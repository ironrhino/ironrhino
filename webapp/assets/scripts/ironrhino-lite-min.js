/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
*/
(function(b,d,c){d=navigator.userAgent.toLowerCase();c=/(chrome)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||0>d.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[];d=c[1]||"";c=c[2]||"0";var f={};d&&(f[d]=!0,f.version=c);f.chrome?f.webkit=!0:f.webkit&&(f.safari=!0);b.browser=f})(jQuery,window);
jQuery.cookie=function(b,d,c){if(1<arguments.length&&(null===d||"object"!==typeof d)){c=jQuery.extend({},c);null===d&&(c.expires=-1);if("number"===typeof c.expires){var f=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+f)}return document.cookie=[encodeURIComponent(b),"=",c.raw?String(d):encodeURIComponent(String(d)),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=d||{};e=c.raw?function(b){return b}:
decodeURIComponent;return(f=RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)").exec(document.cookie))?e(f[1]):null};
(function(b){b.fn.rc4=function(c){var d=b.extend({key:null,method:"encrypt",callback:null},c);null==b.fn.rc4.ctrlrInst&&(b.fn.rc4.ctrlrInst=new b.fn.rc4.ctrlr(d));return this.each(function(){b.fn.rc4.ctrlrInst.settings=d;b.fn.rc4.ctrlrInst.container=this;b.fn.rc4.ctrlrInst.initialise(this)})};b.extend({hexEncode:function(b){for(var d=[],e=0;256>e;e++)d[e]="0123456789abcdef".charAt(e>>4)+"0123456789abcdef".charAt(e&15);for(var g=[],e=0;e<b.length;e++)g[e]=d[b.charCodeAt(e)];return g.join("")},hexDecode:function(b){for(var d=
[],e=0;256>e;e++)d["0123456789abcdef".charAt(e>>4)+"0123456789abcdef".charAt(e&15)]=String.fromCharCode(e);if(!b.match(/^[a-f0-9]*$/i))return!1;b.length%2&&(b="0"+b);for(var g=[],h=0,e=0;e<b.length;e+=2)g[h++]=d[b.substr(e,2)];return g.join("")},rc4Encrypt:function(b,d){s=[];for(var e=0;256>e;e++)s[e]=e;for(var g=0,h,e=0;256>e;e++)g=(g+s[e]+b.charCodeAt(e%b.length))%256,h=s[e],s[e]=s[g],s[g]=h;for(var g=e=0,l="",m=0;m<d.length;m++)e=(e+1)%256,g=(g+s[e])%256,h=s[e],s[e]=s[g],s[g]=h,l+=String.fromCharCode(d.charCodeAt(m)^
s[(s[e]+s[g])%256]);return l},rc4Decrypt:function(c,d){return b.rc4Encrypt(c,d)},rc4EncryptStr:function(c,d){return b.hexEncode(b.rc4Encrypt(d,unescape(encodeURIComponent(c))))},rc4DecryptStr:function(c,d){return decodeURIComponent(escape(b.rc4Decrypt(d,b.hexDecode(c))))}});b.rc4={};b.fn.rc4.ctrlrInst=null;b.fn.rc4.ctrlr=function(b){this.settings=b};var d=b.fn.rc4.ctrlr;d.prototype.initialise=function(){this.settings.key&&this.settings.method&&("ENCRYPT"==b.trim(this.settings.method.toUpperCase())&&
this.setObjectValue(b.hexEncode(b.rc4Encrypt(this.settings.key,this.getObjectValue()))),"DECRYPT"==b.trim(this.settings.method.toUpperCase())&&this.setObjectValue(b.rc4Decrypt(this.settings.key,b.hexDecode(this.getObjectValue()))))};d.prototype.getObjectValue=function(){if(b.fn.rc4.ctrlrInst.container.innerHTML)return b.fn.rc4.ctrlrInst.container.innerHTML;if(b.fn.rc4.ctrlrInst.container.value)return b.fn.rc4.ctrlrInst.container.value};d.prototype.setObjectValue=function(c){b.fn.rc4.ctrlrInst.container.innerHTML&&
(b.fn.rc4.ctrlrInst.container.innerHTML=c);b.fn.rc4.ctrlrInst.container.value&&(b.fn.rc4.ctrlrInst.container.value=c)}})(jQuery);
(function(b){function d(){if(b.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(c):window.opera&&window.opera.postError&&window.opera.postError(c)}}b.fn.ajaxSubmit=function(c){function f(e){for(var d=new FormData,g=0;g<e.length;g++)"file"!=e[g].type&&d.append(e[g].name,e[g].value);l.find("input:file:enabled").each(function(){var c=b(this).attr("name"),e=this.files;if(c)for(var g=0;g<e.length;g++)d.append(c,e[g])});
if(c.extraData)for(var h in c.extraData)d.append(h,c.extraData[h]);c.data=null;e=b.extend(!0,{},b.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:"POST"});e.data=null;var f=e.beforeSend;e.beforeSend=function(b,e){e.data=d;b.upload&&(b.upload.onprogress=function(b){e.progress(b.position,b.total)});f&&f.call(e,b,c)};b.ajax(e)}function e(e){function h(){function e(){try{var b=(x.contentWindow?x.contentWindow.document:x.contentDocument?x.contentDocument:x.document).readyState;d("state = "+
b);"uninitialized"==b.toLowerCase()&&setTimeout(e,50)}catch(c){d("Server abort: ",c," (",c.name,")"),f(E),D&&clearTimeout(D),D=void 0}}var c=l.attr("target"),k=l.attr("action");m.setAttribute("target",q);g||m.setAttribute("method","POST");k!=p.url&&m.setAttribute("action",p.url);p.skipEncodingOverride||g&&!/post/i.test(g)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});p.timeout&&(D=setTimeout(function(){F=!0;f(G)},p.timeout));var n=[];try{if(p.extraData)for(var r in p.extraData)n.push(b('<input type="hidden" name="'+
r+'">').attr("value",p.extraData[r]).appendTo(m)[0]);p.iframeTarget||(B.appendTo("body"),x.attachEvent?x.attachEvent("onload",f):x.addEventListener("load",f,!1));setTimeout(e,15);m.submit()}finally{m.setAttribute("action",k),c?m.setAttribute("target",c):l.removeAttr("target"),b(n).remove()}}function f(e){if(!u.aborted&&!H){try{y=x.contentWindow?x.contentWindow.document:x.contentDocument?x.contentDocument:x.document}catch(c){d("cannot access response document: ",c),e=E}if(e===G&&u)u.abort("timeout");
else if(e==E&&u)u.abort("server abort");else if(y&&y.location.href!=p.iframeSrc||F){x.detachEvent?x.detachEvent("onload",f):x.removeEventListener("load",f,!1);e="success";var g;try{if(F)throw"timeout";var h="xml"==p.dataType||y.XMLDocument||b.isXMLDoc(y);d("isXml="+h);if(!h&&window.opera&&(null==y.body||""==y.body.innerHTML)&&--J){d("requeing onLoad callback, DOM not available");setTimeout(f,250);return}var l=y.body?y.body:y.documentElement;u.responseText=l?l.innerHTML:null;u.responseXML=y.XMLDocument?
y.XMLDocument:y;h&&(p.dataType="xml");u.getResponseHeader=function(b){return{"content-type":p.dataType}[b]};l&&(u.status=Number(l.getAttribute("status"))||u.status,u.statusText=l.getAttribute("statusText")||u.statusText);var m=(p.dataType||"").toLowerCase(),k=/(json|script|text)/.test(m);if(k||p.textarea){var n=y.getElementsByTagName("textarea")[0];if(n)u.responseText=n.value,u.status=Number(n.getAttribute("status"))||u.status,u.statusText=n.getAttribute("statusText")||u.statusText;else if(k){var z=
y.getElementsByTagName("pre")[0],A=y.getElementsByTagName("body")[0];z?u.responseText=z.textContent?z.textContent:z.innerText:A&&(u.responseText=A.textContent?A.textContent:A.innerText)}}else"xml"!=m||u.responseXML||null==u.responseText||(u.responseXML=K(u.responseText));try{I=L(u,m,p)}catch(t){e="parsererror",u.error=g=t||e}}catch(q){d("error caught: ",q),e="error",u.error=g=q||e}u.aborted&&(d("upload aborted"),e=null);u.status&&(e=200<=u.status&&300>u.status||304===u.status?"success":"error");"success"===
e?(p.success&&p.success.call(p.context,I,"success",u),r&&b.event.trigger("ajaxSuccess",[u,p])):e&&(void 0==g&&(g=u.statusText),p.error&&p.error.call(p.context,u,e,g),r&&b.event.trigger("ajaxError",[u,p,g]));r&&b.event.trigger("ajaxComplete",[u,p]);r&&!--b.active&&b.event.trigger("ajaxStop");p.complete&&p.complete.call(p.context,u,e);H=!0;p.timeout&&clearTimeout(D);setTimeout(function(){p.iframeTarget||B.remove();u.responseXML=null},100)}}}var m=l[0],k,n,p,r,q,B,x,u,F,D;k=!!b.fn.prop;if(e)if(k)for(n=
0;n<e.length;n++)k=b(m[e[n].name]),k.prop("disabled",!1);else for(n=0;n<e.length;n++)k=b(m[e[n].name]),k.removeAttr("disabled");if(b(":input[name=submit],:input[id=submit]",m).length)alert('Error: Form elements must not have name or id of "submit".');else if(p=b.extend(!0,{},b.ajaxSettings,c),p.context=p.context||p,q="jqFormIO"+(new Date).getTime(),p.iframeTarget?(B=b(p.iframeTarget),k=B.attr("name"),null==k?B.attr("name",q):q=k):(B=b('<iframe name="'+q+'" src="'+p.iframeSrc+'" />'),B.css({position:"absolute",
top:"-1000px",left:"-1000px"})),x=B[0],u={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var c="timeout"===e?"timeout":"aborted";d("aborting upload... "+c);this.aborted=1;B.attr("src",p.iframeSrc);u.error=c;p.error&&p.error.call(p.context,u,c,e);r&&b.event.trigger("ajaxError",[u,p,c]);p.complete&&p.complete.call(p.context,u,c)}},(r=p.global)&&!b.active++&&b.event.trigger("ajaxStart"),
r&&b.event.trigger("ajaxSend",[u,p]),p.beforeSend&&!1===p.beforeSend.call(p.context,u,p))p.global&&b.active--;else if(!u.aborted){(e=m.clk)&&(k=e.name)&&!e.disabled&&(p.extraData=p.extraData||{},p.extraData[k]=e.value,"image"==e.type&&(p.extraData[k+".x"]=m.clk_x,p.extraData[k+".y"]=m.clk_y));var G=1,E=2;e=b("meta[name=csrf-token]").attr("content");(k=b("meta[name=csrf-param]").attr("content"))&&e&&(p.extraData=p.extraData||{},p.extraData[k]=e);p.forceSync?h():setTimeout(h,10);var I,y,J=50,H,K=b.parseXML||
function(b,e){window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(b)):e=(new DOMParser).parseFromString(b,"text/xml");return e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=b.parseJSON||function(b){return window.eval("("+b+")")},L=function(e,c,d){var g=e.getResponseHeader("content-type")||"",h="xml"===c||!c&&0<=g.indexOf("xml");e=h?e.responseXML:e.responseText;h&&"parsererror"===e.documentElement.nodeName&&b.error&&b.error("parsererror");
d&&d.dataFilter&&(e=d.dataFilter(e,c));"string"===typeof e&&("json"===c||!c&&0<=g.indexOf("json")?e=M(e):("script"===c||!c&&0<=g.indexOf("javascript"))&&b.globalEval(e));return e}}}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var g,h,l=this;"function"==typeof c&&(c={success:c});g=this.attr("method");h=this.attr("action");(h=(h="string"===typeof h?b.trim(h):"")||window.location.href||"")&&(h=(h.match(/^([^#]+)/)||[])[1]);c=b.extend(!0,{url:h,success:b.ajaxSettings.success,
type:g||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);h={};this.trigger("form-pre-serialize",[this,c,h]);if(h.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=c.traditional;void 0===m&&(m=b.ajaxSettings.traditional);var n,k=this.formToArray(c.semantic);c.data&&(c.extraData=c.data,n=b.param(c.data,
m));if(c.beforeSubmit&&!1===c.beforeSubmit(k,this,c))return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[k,this,c,h]);if(h.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;h=b.param(k,m);n&&(h=h?h+"&"+n:n);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+h,c.data=null):c.data=h;var r=[];c.resetForm&&r.push(function(){l.resetForm()});c.clearForm&&r.push(function(){l.clearForm(c.includeHidden)});
if(!c.dataType&&c.target){var q=c.success||function(){};r.push(function(e){var d=c.replaceTarget?"replaceWith":"html";b(c.target)[d](e).each(q,arguments)})}else c.success&&r.push(c.success);c.success=function(b,e,d){for(var g=c.context||c,h=0,f=r.length;h<f;h++)r[h].apply(g,[b,e,d||l,l])};m=b("input:file:enabled[value]",this);n=0<m.length;h="multipart/form-data"==l.attr("enctype")||"multipart/form-data"==l.attr("encoding");m=!!(n&&m.get(0).files&&window.FormData);d("fileAPI :"+m);!1!==c.iframe&&(c.iframe||
(n||h)&&!m)?c.closeKeepAlive?b.get(c.closeKeepAlive,function(){e(k)}):e(k):(n||h)&&m?(c.progress=c.progress||b.noop,f(k)):b.ajax(c);this.trigger("form-submit-notify",[this,c]);return this};b.fn.ajaxForm=function(c){if(0===this.length){var f=this.selector,e=this.context;if(!b.isReady&&f)return d("DOM not ready, queuing ajaxForm"),b(function(){b(f,e).ajaxForm(c)}),this;d("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",
function(e){e.isDefaultPrevented()||(e.preventDefault(),b(this).ajaxSubmit(c))}).bind("click.form-plugin",function(e){var c=e.target,d=b(c);if(!d.is(":submit,input:image")){c=d.closest(":submit");if(0==c.length)return;c=c[0]}var f=this;f.clk=c;"image"==c.type&&(void 0!=e.offsetX?(f.clk_x=e.offsetX,f.clk_y=e.offsetY):"function"==typeof b.fn.offset?(d=d.offset(),f.clk_x=e.pageX-d.left,f.clk_y=e.pageY-d.top):(f.clk_x=e.pageX-c.offsetLeft,f.clk_y=e.pageY-c.offsetTop));setTimeout(function(){f.clk=f.clk_x=
f.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(c){var d=[];if(0===this.length)return d;var e=this[0],g=c?e.getElementsByTagName("*"):e.elements;if(!g)return d;var h,l,m,n,k,r;h=0;for(k=g.length;h<k;h++)if(l=g[h],m=l.name)if(c&&e.clk&&"image"==l.type)l.disabled||e.clk!=l||(d.push({name:m,value:b(l).val(),type:l.type}),d.push({name:m+".x",value:e.clk_x},{name:m+".y",value:e.clk_y}));else if((n=b.fieldValue(l,
!0))&&n.constructor==Array)for(l=0,r=n.length;l<r;l++)d.push({name:m,value:n[l]});else null!==n&&"undefined"!=typeof n&&d.push({name:m,value:n,type:l.type});!c&&e.clk&&(c=b(e.clk),g=c[0],(m=g.name)&&!g.disabled&&"image"==g.type&&(d.push({name:m,value:c.val()}),d.push({name:m+".x",value:e.clk_x},{name:m+".y",value:e.clk_y})));return d};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(c){var d=[];this.each(function(){var e=this.name;if(e){var g=b.fieldValue(this,
c);if(g&&g.constructor==Array)for(var h=0,l=g.length;h<l;h++)d.push({name:e,value:g[h]});else null!==g&&"undefined"!=typeof g&&d.push({name:this.name,value:g})}});return b.param(d)};b.fn.fieldValue=function(c){for(var d=[],e=0,g=this.length;e<g;e++){var h=b.fieldValue(this[e],c);null===h||"undefined"==typeof h||h.constructor==Array&&!h.length||(h.constructor==Array?b.merge(d,h):d.push(h))}return d};b.fieldValue=function(c,d){var e=c.name,g=c.type,h=c.tagName.toLowerCase();void 0===d&&(d=!0);if(d&&
(!e||c.disabled||"reset"==g||"button"==g||("checkbox"==g||"radio"==g)&&!c.checked||("submit"==g||"image"==g)&&c.form&&c.form.clk!=c||"select"==h&&-1==c.selectedIndex))return null;if("select"==h){var l=c.selectedIndex;if(0>l)return null;for(var e=[],h=c.options,m=(g="select-one"==g)?l+1:h.length,l=g?l:0;l<m;l++){var n=h[l];if(n.selected){var k=n.value;k||(k=n.attributes&&n.attributes.value&&!n.attributes.value.specified?n.text:n.value);if(g)return k;e.push(k)}}return e}return b(c).val()};b.fn.clearForm=
function(c){return this.each(function(){b("input,select,textarea",this).clearFields(c)})};b.fn.clearFields=b.fn.clearInputs=function(b){var d=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,g=this.tagName.toLowerCase();d.test(e)||"textarea"==g||b&&/hidden/.test(e)?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==g&&(this.selectedIndex=-1)})};b.fn.resetForm=function(){return this.each(function(){("function"==
typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(b){void 0===b&&(b=!0);return this.each(function(){this.disabled=!b})};b.fn.selected=function(c){void 0===c&&(c=!0);return this.each(function(){var d=this.type;"checkbox"==d||"radio"==d?this.checked=c:"option"==this.tagName.toLowerCase()&&(d=b(this).parent("select"),c&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=c)})};b.fn.ajaxSubmit.debug=!1})(jQuery);
(function(b){b.format=function(){var b={date:{format:"MMM dd, yyyy h:mm:ss a",monthsFull:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),daysFull:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),shortDateFormat:"M/d/yyyy h:mm a",longDateFormat:"EEEE, MMMM dd, yyyy h:mm:ss a"},number:{format:"#,##0.0#",groupingSeparator:",",
decimalSeparator:"."}};return{locale:function(c){a={a:6};if(c)for(var f in c)for(var e in c[f])b[f][e]=c[f][e];return b},date:function(c,f){var e=0,g=0,h=0,h=g="",l,m;if("string"==typeof c){var n=function(b,e,c,d){for(;d>=c;d--){var g=b.substring(e,e+d);if(g.length>=c&&/^\d+$/.test(g))return g}return null};"undefined"==typeof f&&(f=b.date.format);for(var k=0,r=new Date(0,0,0,0,0,0,0),q=r.getYear(),t=r.getMonth()+1,v=1,w=r.getHours(),z=r.getMinutes(),A=r.getSeconds(),r=r.getMilliseconds(),C="",p;e<
f.length;){h="";for(g=f.charAt(e);f.charAt(e)==g&&e<f.length;)h+=f.charAt(e++);-1<h.indexOf("MMMM")&&4<h.length&&(h="MMMM");-1<h.indexOf("EEEE")&&4<h.length&&(h="EEEE");if("yyyy"==h||"yy"==h||"y"==h){"yyyy"==h&&(m=l=4);"yy"==h&&(m=l=2);"y"==h&&(l=2,m=4);q=n(c,k,l,m);if(null===q)return 0;k+=q.length;2==q.length&&(q=parseInt(q,10),q=70<q?1900+q:2E3+q)}else if("MMMM"==h){g=t=0;for(h=b.date.monthsFull.length;g<h;g++)if(p=b.date.monthsFull[g],c.substring(k,k+p.length).toLowerCase()==p.toLowerCase()){t=
g+1;k+=p.length;break}if(1>t||12<t)return 0}else if("MMM"==h){g=t=0;for(h=b.date.monthsShort.length;g<h;g++)if(p=b.date.monthsShort[g],c.substring(k,k+p.length).toLowerCase()==p.toLowerCase()){t=g+1;k+=p.length;break}if(1>t||12<t)return 0}else if("EEEE"==h)for(g=0,h=b.date.daysFull.length;g<h;g++){if(p=b.date.daysFull[g],c.substring(k,k+p.length).toLowerCase()==p.toLowerCase()){k+=p.length;break}}else if("EEE"==h)for(g=0,h=b.date.daysShort.length;g<h;g++){if(p=b.date.daysShort[g],c.substring(k,k+
p.length).toLowerCase()==p.toLowerCase()){k+=p.length;break}}else if("MM"==h||"M"==h){t=n(c,k,1,2);if(null===t||1>t||12<t)return 0;k+=t.length}else if("dd"==h||"d"==h){v=n(c,k,1,2);if(null===v||1>v||31<v)return 0;k+=v.length}else if("hh"==h||"h"==h){w=n(c,k,1,2);if(null===w||1>w||12<w)return 0;k+=w.length}else if("HH"==h||"H"==h){w=n(c,k,1,2);if(null===w||0>w||23<w)return 0;k+=w.length}else if("KK"==h||"K"==h){w=n(c,k,1,2);if(null===w||0>w||11<w)return 0;k+=w.length}else if("kk"==h||"k"==h){w=n(c,
k,1,2);if(null===w||1>w||24<w)return 0;k+=w.length;w--}else if("mm"==h||"m"==h){z=n(c,k,1,2);if(null===z||0>z||59<z)return 0;k+=z.length}else if("ss"==h||"s"==h){A=n(c,k,1,2);if(null===A||0>A||59<A)return 0;k+=A.length}else if("SSS"==h||"SS"==h||"S"==h){r=n(c,k,1,3);if(null===r||0>r||999<r)return 0;k+=r.length}else if("a"==h){C=c.substring(k,k+2).toLowerCase();if("am"==C)C="AM";else if("pm"==C)C="PM";else return 0;k+=2}else{if(h!=c.substring(k,k+h.length))return 0;k+=h.length}}if(k!=c.length)return 0;
if(2==t)if(0===q%4&&0!==q%100||0===q%400){if(29<v)return 0}else if(28<v)return 0;if((4==t||6==t||9==t||11==t)&&30<v)return 0;12>w&&"PM"==C?w=w-0+12:11<w&&"AM"==C&&(w-=12);return new Date(q,t-1,v,w,z,A,r)}e=function(b,e){return"undefined"==typeof e||2==e?(0<=b&&10>b?"0":"")+b:0<=b&&10>b?"00"+b:10<=b&&100>b?"0"+b:b};"undefined"==typeof f&&(f=b.date.format);m=c.getYear();1E3>m&&(m=String(m+1900));n=c.getMonth()+1;k=c.getDate();q=c.getDay();t=c.getHours();v=c.getMinutes();l=c.getSeconds();w=c.getMilliseconds();
c={y:m,yyyy:m,yy:String(m).substring(2,4),M:n,MM:e(n),MMM:b.date.monthsShort[n-1],MMMM:b.date.monthsFull[n-1],d:k,dd:e(k),EEE:b.date.daysShort[q],EEEE:b.date.daysFull[q],H:t,HH:e(t)};c.h=0===t?12:12<t?t-12:t;c.hh=e(c.h);c.k=0!==t?t:24;c.kk=e(c.k);c.K=11<t?t-12:t;c.KK=e(c.K);c.a=11<t?"PM":"AM";c.m=v;c.mm=e(v);c.s=l;c.ss=e(l);c.S=w;c.SS=e(w);c.SSS=e(w,3);m="";e=0;h=g="";for(l=!1;e<f.length;)if(h="",g=f.charAt(e),"'"==g)e++,f.charAt(e)==g?(m+=g,e++):l=!l;else{for(;f.charAt(e)==g;)h+=f.charAt(e++);-1!=
h.indexOf("MMMM")&&4<h.length&&(h="MMMM");-1!=h.indexOf("EEEE")&&4<h.length&&(h="EEEE");m="undefined"==typeof c[h]||l?m+h:m+c[h]}return m},number:function(c,f){var e,g,h,l,m;if("string"==typeof c)return e=b.number.groupingSeparator,h=b.number.decimalSeparator,l=c.indexOf(h),m=1,-1!=l&&(m=Math.pow(10,c.length-l-1)),c=c.replace(RegExp("["+e+"]","g"),""),c=c.replace(RegExp("["+h+"]"),"."),Math.round(c*m)/m;if("undefined"==typeof f||1>f.length)f=b.number.format;g=f.lastIndexOf(",");l=f.indexOf(".");h=
e="";var n=0>c,k=f.substr(l+1).replace(/#/g,"").length,r=f.substr(l+1).length,q=10;c=Math.abs(c);if(-1!=l){h=b.number.decimalSeparator;if(0<r){m=1E3;var q=Math.pow(q,r),t=Math.round(parseInt(c*q*m-Math.round(c)*q*m,10)/m),t=String(0>t?Math.round(parseInt(c*q*m-parseInt(c,10)*q*m,10)/m):t),v=c.toString().split(".");if("undefined"!=typeof v[1])for(m=0;m<r;m++)if("0"==v[1].substr(m,1)&&m<r-1&&t.length!=r)t="0"+t;else break;for(m=0;m<r-h.length;m++)t+="0";v="";for(m=0;m<t.length;m++){r=t.substr(m,1);
if(m>=k&&"0"==r&&/^0*$/.test(t.substr(m+1)))break;v+=r}h+=v}h==b.number.decimalSeparator&&(h="")}if(0!==l){e=""!=h?String(parseInt(Math.round(c*q)/q,10)):String(Math.round(c));k=b.number.groupingSeparator;q=0;-1!=g&&(q=-1!=l?l-g:f.length-g,q--);if(0<q){g=0;r="";for(m=e.length;m--;)0!==g&&0===g%q&&(r=k+r),r=e.substr(m,1)+r,g++;e=r}m=/#|,/g;l=-1!=l?f.substr(0,l).replace(m,"").length:f.replace(m,"").length;for(m=e.length;m<l;m++)e="0"+e}return(n?"-":"")+(e+h)}}}()})(jQuery);
(function(b){function d(e){function d(e){var c=RegExp(b.map(e,encodeURIComponent).join("|"),"ig");return function(b){return b.replace(c,decodeURIComponent)}}e=b.extend({unescape:!1},e||{});c.encoder=function(b){return!0===b?function(b){return b}:"string"==typeof b&&(b=d(b.split("")))||"function"==typeof b?function(e){return b(encodeURIComponent(e))}:encodeURIComponent}(e.unescape)}var c={put:function(b,e){(e||window).location.hash=this.encoder(b)},get:function(e){e=(e||window).location.hash.replace(/^#/,
"");try{return b.browser.mozilla?e:decodeURIComponent(e)}catch(c){return e}},encoder:encodeURIComponent},f={id:"__jQuery_history",init:function(){var e='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';b("body").prepend(e);return this},_document:function(){return b("#"+this.id)[0].contentWindow.document},put:function(b){var e=this._document();e.open();e.close();c.put(b,e)},get:function(){return c.get(this._document())}},e={base:{callback:void 0,type:void 0,check:function(){},
load:function(b){},init:function(b,e){d(e);g.callback=b;g._options=e;g._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var b=c.get();g._appState=b;g.callback(b);setInterval(g.check,100)},check:function(){var b=c.get();b!=g._appState&&(g._appState=b,g.callback(b))},load:function(b){b!=g._appState&&(c.put(b),g._appState=b,g.callback(b))}},iframeTimer:{_appState:void 0,_init:function(){var b=c.get();g._appState=b;f.init().put(b);g.callback(b);setInterval(g.check,100)},
check:function(){var b=f.get(),e=c.get();e!=b&&(e==g._appState?(g._appState=b,c.put(b),g.callback(b)):(g._appState=e,f.put(e),g.callback(e)))},load:function(b){b!=g._appState&&(c.put(b),f.put(b),g._appState=b,g.callback(b))}},hashchangeEvent:{_init:function(){g.callback(c.get());b(window).bind("hashchange",g.check)},check:function(){g.callback(c.get())},load:function(b){c.put(b)}}},g=b.extend({},e.base);g.type=b.browser.msie&&(8>b.browser.version||8>document.documentMode)?"iframeTimer":"onhashchange"in
window?"hashchangeEvent":"timer";b.extend(g,e[g.type]);b.history=g})(jQuery);
(function(b){b.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:0.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(d,c,f){null==c&&(c="Alert");b.alerts._show(c,d,null,"alert",function(b){f&&f(b)})},confirm:function(d,c,f){null==c&&(c="Confirm");b.alerts._show(c,d,null,"confirm",function(b){f&&f(b)})},prompt:function(d,c,f,e){null==f&&(f="Prompt");b.alerts._show(f,d,c,"prompt",function(b){e&&
e(b)})},_show:function(d,c,f,e,g){b.alerts._hide();b.alerts._overlay("show");b("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_icon"></div><div id="popup_message"></div></div></div>');b.alerts.dialogClass&&b("#popup_container").addClass(b.alerts.dialogClass);var h=b.browser.msie&&6>=parseInt(b.browser.version)?"absolute":"fixed";b("#popup_container").css({position:h,zIndex:99999,padding:0,margin:0});b("#popup_title").text(d);b("#popup_content").addClass(e);
b("#popup_message").text(c);b("#popup_message").html(b("#popup_message").text().replace(/\n/g,"<br />"));b("#popup_container").css({minWidth:b("#popup_container").outerWidth(),maxWidth:b("#popup_container").outerWidth()});b.alerts._reposition();b.alerts._maintainPosition(!0);switch(e){case "alert":b("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn">'+b.alerts.okButton+"</button></div>");b("#popup_ok").click(function(){b.alerts._hide();g(!0)});b("#popup_ok").focus().keypress(function(e){13!=
e.keyCode&&27!=e.keyCode||b("#popup_ok").trigger("click")});break;case "confirm":b("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn btn-primary">'+b.alerts.okButton+'</button> <button id="popup_cancel" class="btn">'+b.alerts.cancelButton+"</button></div>");b("#popup_ok").click(function(){b.alerts._hide();g&&g(!0)});b("#popup_cancel").click(function(){b.alerts._hide();g&&g(!1)});b("#popup_ok").focus();b("#popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&
b("#popup_ok").trigger("click");27==e.keyCode&&b("#popup_cancel").trigger("click")});break;case "prompt":b("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><button id="popup_ok" class="btn">'+b.alerts.okButton+'</button> <button id="popup_cancel" class="btn">'+b.alerts.cancelButton+"</button></div>"),b("#popup_prompt").width(b("#popup_message").width()),b("#popup_ok").click(function(){var e=b("#popup_prompt").val();b.alerts._hide();g&&
g(e)}),b("#popup_cancel").click(function(){b.alerts._hide();g&&g(null)}),b("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&b("#popup_ok").trigger("click");27==e.keyCode&&b("#popup_cancel").trigger("click")}),f&&b("#popup_prompt").val(f),b("#popup_prompt").focus().select()}if(b.alerts.draggable)try{b("#popup_container").draggable({handle:b("#popup_title")}),b("#popup_title").css({cursor:"move"})}catch(l){}},_hide:function(){b("#popup_container").remove();b.alerts._overlay("hide");
b.alerts._maintainPosition(!1)},_overlay:function(d){switch(d){case "show":b.alerts._overlay("hide");b("BODY").append('<div id="popup_overlay"></div>');b("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:b(document).height(),background:b.alerts.overlayColor,opacity:b.alerts.overlayOpacity});break;case "hide":b("#popup_overlay").remove()}},_reposition:function(){var d=b(window).height()/2-b("#popup_container").outerHeight()/2+b.alerts.verticalOffset,c=
b(window).width()/2-b("#popup_container").outerWidth()/2+b.alerts.horizontalOffset;0>d&&(d=0);0>c&&(c=0);b.browser.msie&&6>=parseInt(b.browser.version)&&(d+=b(window).scrollTop());b("#popup_container").css({top:d+"px",left:c+"px"});b("#popup_overlay").height(b(document).height())},_maintainPosition:function(d){if(b.alerts.repositionOnResize)switch(d){case !0:b(window).bind("resize",b.alerts._reposition);break;case !1:b(window).unbind("resize",b.alerts._reposition)}}};jAlert=function(d,c,f){b.alerts.alert(d,
c,f)};jConfirm=function(d,c,f){b.alerts.confirm(d,c,f)};jPrompt=function(d,c,f,e){b.alerts.prompt(d,c,f,e)}})(jQuery);
(function(b,d){function c(){}function f(){}function e(){}function g(b,e){"string"===typeof e&&(e=e.split("."));var c=e.join(".").replace(/\.(\w)/g,function(b,e){return e.toUpperCase()}),d=e.shift(),l;typeof(l=b[c])==r&&typeof(l=b[d])!=r&&0<e.length&&(l=g(l,e));return l}function h(){function b(e,g){d.bind(e,function(){return g.apply(c,arguments)})}var e=n.apply(arguments),c=this,d=1===e.length?c:e.shift(),g,e=e[0]||{};for(g in e)b(g,e[g])}function l(b,e){return{input:b,form:e}}var m=(JSON||{}).stringify,
n=Array.prototype.slice,k,r="undefined",q={itemManager:f,plugins:[],ext:{},html:{wrap:'<div class="text-core"><div class="text-wrap"/></div>',hidden:'<input type="hidden" />'},keys:{8:"backspace",9:"tab",13:"enter!",27:"escape!",37:"left",38:"up!",39:"right",40:"down!",46:"delete",108:"numpadEnter"}};if(!m)throw Error("JSON.stringify() not found");k=f.prototype;k.init=function(b){};k.filter=function(b,e){var c=[],d,g;for(d=0;d<b.length;d++)g=b[d],this.itemContains(g,e)&&c.push(g);return c};k.itemContains=
function(b,e){return 0==this.itemToString(b).toLowerCase().indexOf(e.toLowerCase())};k.stringToItem=function(b){return b};k.itemToString=function(b){return b};k.compareItems=function(b,e){return b==e};k=c.prototype;k.init=function(e,c){var d=this,g,l,h;d._defaults=b.extend({},q);d._opts=c||{};d._plugins={};d._itemManager=l=new (d.opts("item.manager"));e=b(e);h=b(d.opts("html.wrap"));g=b(d.opts("html.hidden"));e.wrap(h).keydown(function(b){return d.onKeyDown(b)}).keyup(function(b){return d.onKeyUp(b)}).data("textext",
d);b(d).data({hiddenInput:g,wrapElement:e.parents(".text-wrap").first(),input:e});g.attr("name",e.attr("name"));e.attr("name",null);g.insertAfter(e);b.extend(!0,l,d.opts("ext.item.manager"));b.extend(!0,d,d.opts("ext.*"),d.opts("ext.core"));d.originalWidth=e.outerWidth();d.invalidateBounds();l.init(d);d.initPatches();d.initPlugins(d.opts("plugins"),b.fn.textext.plugins);d.on({setFormData:d.onSetFormData,getFormData:d.onGetFormData,setInputData:d.onSetInputData,anyKeyUp:d.onAnyKeyUp});d.trigger("postInit");
d.trigger("ready");d.getFormData(0)};k.initPatches=function(){var e=[],c=b.fn.textext.patches,d;for(d in c)e.push(d);this.initPlugins(e,c)};k.initPlugins=function(e,c){var d,g,l=[],h;"string"==typeof e&&(e=e.split(/\s*,\s*|\s+/g));for(h=0;h<e.length;h++)if(d=e[h],g=c[d])this._plugins[d]=g=new g,this[d]=function(b){return function(){return b}}(g),l.push(g),b.extend(!0,g,this.opts("ext.*"),this.opts("ext."+d));l.sort(function(b,e){b=b.initPriority();e=e.initPriority();return b===e?0:b<e?1:-1});for(h=
0;h<l.length;h++)l[h].init(this)};k.hasPlugin=function(b){return!!this._plugins[b]};k.on=h;k.bind=function(b,e){this.input().bind(b,e)};k.trigger=function(){var b=arguments;this.input().trigger(b[0],n.call(b,1))};k.itemManager=function(){return this._itemManager};k.input=function(){return b(this).data("input")};k.opts=function(b){var e=g(this._opts,b);return"undefined"==typeof e?g(this._defaults,b):e};k.wrapElement=function(){return b(this).data("wrapElement")};k.invalidateBounds=function(){var b=
this.input(),e=this.wrapElement(),c=e.parent(),d=this.originalWidth,g;this.trigger("preInvalidate");g=b.outerHeight();b.outerWidth(d);e.width(d).height(g);c.height(g);this.trigger("postInvalidate")};k.focusInput=function(){this.input()[0].focus()};k.serializeData=m;k.hiddenInput=function(e){return b(this).data("hiddenInput")};k.getWeightedEventResponse=function(b,e){var c={},d=0;this.trigger(b,c,e);for(var g in c)d=Math.max(d,g);return c[d]};k.getFormData=function(b){b=this.getWeightedEventResponse("getFormData",
b||0);this.trigger("setFormData",b.form);this.trigger("setInputData",b.input)};k.onAnyKeyUp=function(b,e){this.getFormData(e)};k.onSetInputData=function(b,e){this.input().val(e)};k.onSetFormData=function(b,e){this.hiddenInput().val(this.serializeData(e))};k.onGetFormData=function(b,e){var c=this.input().val();e[0]=l(c,c)};b(["Down","Up"]).each(function(){var b=this.toString();k["onKey"+b]=function(e){var c=this.opts("keys")[e.keyCode],d=!0;c&&(d="!"!=c.substr(-1),c=c.replace("!",""),this.trigger(c+
"Key"+b),"Up"==b&&this._lastKeyDown==e.keyCode&&(this._lastKeyDown=null,this.trigger(c+"KeyPress")),"Down"==b&&(this._lastKeyDown=e.keyCode));this.trigger("anyKey"+b,e.keyCode);return d}});k=e.prototype;k.on=h;k.formDataObject=l;k.init=function(b){throw Error("Not implemented");};k.baseInit=function(e,c){e._defaults=b.extend(!0,e._defaults,c);this._core=e;this._timers={}};k.startTimer=function(b,e,c){var d=this;d.stopTimer(b);d._timers[b]=setTimeout(function(){delete d._timers[b];c.apply(d)},1E3*
e)};k.stopTimer=function(b){clearTimeout(this._timers[b])};k.core=function(){return this._core};k.opts=function(b){return this.core().opts(b)};k.itemManager=function(){return this.core().itemManager()};k.input=function(){return this.core().input()};k.val=function(b){var e=this.input();if(typeof b===r)return e.val();e.val(b)};k.trigger=function(){var b=this.core();b.trigger.apply(b,arguments)};k.bind=function(b,e){this.core().bind(b,e)};k.initPriority=function(){return 0};var t=!1,v=b.fn.textext=function(e){var d;
t||null==(d=b.fn.textext.css)||(b("head").append("<style>"+d+"</style>"),t=!0);return this.map(function(){var d=b(this);if(null==e)return d.data("textext");var g=new c;g.init(d,e);d.data("textext",g);return g.input()[0]})};v.addPlugin=function(b,e){v.plugins[b]=e;e.prototype=new v.TextExtPlugin};v.addPatch=function(b,e){v.patches[b]=e;e.prototype=new v.TextExtPlugin};v.TextExt=c;v.TextExtPlugin=e;v.ItemManager=f;v.plugins={};v.patches={}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtIE9Patches=d;b.fn.textext.addPatch("ie9",d);b=d.prototype;b.init=function(b){if(-1!=navigator.userAgent.indexOf("MSIE 9"))b.on({postInvalidate:this.onPostInvalidate})};b.onPostInvalidate=function(){var b=this.input(),d=b.val();b.val(Math.random());b.val(d)}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtAjax=d;b.fn.textext.addPlugin("ajax",d);var c=d.prototype,f={ajax:{typeDelay:0.5,loadingMessage:"Loading...",loadingDelay:0.5,cacheResults:!1,dataCallback:null}};c.init=function(b){this.baseInit(b,f);this.on({getSuggestions:this.onGetSuggestions});this._suggestions=null};c.load=function(e){var c=this,d=c.opts("ajax.data.callback")||function(b){return{q:b}},d=b.extend(!0,{data:d(e),success:function(b){c.onComplete(b,e)},error:function(b,c){console.error(c,
e)}},c.opts("ajax"));b.ajax(d)};c.onComplete=function(b,c){var d=b;this.dontShowLoading();!0==this.opts("ajax.cache.results")&&(this._suggestions=b,d=this.itemManager().filter(b,c));this.trigger("setSuggestions",{result:d})};c.dontShowLoading=function(){this.stopTimer("loading")};c.showLoading=function(){var b=this;b.dontShowLoading();b.startTimer("loading",b.opts("ajax.loading.delay"),function(){b.trigger("showDropdown",function(c){c.clearItems();c.addDropdownItem(b.opts("ajax.loading.message")).addClass("text-loading")})})};
c.onGetSuggestions=function(b,c){var d=this,l=d._suggestions,f=(c||{}).query||"";if(l&&!0===d.opts("ajax.cache.results"))return d.onComplete(l,f);d.startTimer("ajax",d.opts("ajax.type.delay"),function(){d.showLoading();d.load(f)})}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtArrow=d;b.fn.textext.addPlugin("arrow",d);var c=d.prototype,f={html:{arrow:'<div class="text-arrow"/>'}};c.init=function(e){var c=this;c.baseInit(e,f);c._arrow=e=b(c.opts("html.arrow"));c.core().wrapElement().append(e);e.bind("click",function(b){c.onArrowClick(b)})};c.onArrowClick=function(b){this.trigger("toggleDropdown");this.core().focusInput()}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtAutocomplete=d;b.fn.textext.addPlugin("autocomplete",d);var c=d.prototype,f={autocomplete:{enabled:!0,dropdown:{position:"below",maxHeight:"100px"}},html:{dropdown:'<div class="text-dropdown"><div class="text-list"/></div>',suggestion:'<div class="text-suggestion"><span class="text-label"/></div>'}};c.init=function(e){var c=this;c.baseInit(e,f);e=c.input();var d;!0===c.opts("autocomplete.enabled")&&(c.on({blur:c.onBlur,anyKeyUp:c.onAnyKeyUp,deleteKeyUp:c.onAnyKeyUp,
backspaceKeyPress:c.onBackspaceKeyPress,enterKeyPress:c.onEnterKeyPress,escapeKeyPress:c.onEscapeKeyPress,setSuggestions:c.onSetSuggestions,showDropdown:c.onShowDropdown,hideDropdown:c.onHideDropdown,toggleDropdown:c.onToggleDropdown,postInvalidate:c.positionDropdown,getFormData:c.onGetFormData,downKeyDown:c.onDownKeyDown,upKeyDown:c.onUpKeyDown}),d=b(c.opts("html.dropdown")),d.insertAfter(e),c.on(d,{mouseover:c.onMouseOver,mousedown:c.onMouseDown,click:c.onClick}),d.css("maxHeight",c.opts("autocomplete.dropdown.maxHeight")).addClass("text-position-"+
c.opts("autocomplete.dropdown.position")),b(c).data("container",d),b(document.body).click(function(b){c.isDropdownVisible()&&!c.withinWrapElement(b.target)&&c.trigger("hideDropdown")}),c.positionDropdown())};c.containerElement=function(){return b(this).data("container")};c.onMouseOver=function(e){e=b(e.target).closest(".text-suggestion");e.is(".text-suggestion")&&(this.clearSelected(),e.addClass("text-selected"))};c.onMouseDown=function(b){this.containerElement().data("mousedownOnAutocomplete",!0)};
c.onClick=function(e){e=b(e.target).closest(".text-label");(e.is(".text-suggestion")||e.is(".text-label"))&&this.trigger("enterKeyPress");this.core().hasPlugin("tags")&&this.val("")};c.onBlur=function(b){b=this.containerElement();var c=!0===b.data("mousedownOnAutocomplete");this.isDropdownVisible()&&(c?this.core().focusInput():this.trigger("hideDropdown"));b.removeData("mousedownOnAutocomplete")};c.onBackspaceKeyPress=function(b){(0<this.val().length||this.isDropdownVisible())&&this.getSuggestions()};
c.onAnyKeyUp=function(b,c){var d=null!=this.opts("keys."+c);0<this.val().length&&!d&&this.getSuggestions()};c.onDownKeyDown=function(b){this.isDropdownVisible()?this.toggleNextSuggestion():this.getSuggestions()};c.onUpKeyDown=function(b){this.togglePreviousSuggestion()};c.onEnterKeyPress=function(b){this.isDropdownVisible()&&this.selectFromDropdown()};c.onEscapeKeyPress=function(b){this.isDropdownVisible()&&this.trigger("hideDropdown")};c.positionDropdown=function(){var b=this.containerElement(),
c=this.opts("autocomplete.dropdown.position"),d=this.core().wrapElement().outerHeight(),l={};l["above"===c?"bottom":"top"]=d+"px";b.css(l)};c.suggestionElements=function(){return this.containerElement().find(".text-suggestion")};c.setSelectedSuggestion=function(e){if(e){var c=this.suggestionElements(),d=c.first(),l,f;this.clearSelected();for(f=0;f<c.length;f++)if(l=b(c[f]),this.itemManager().compareItems(l.data("text-suggestion"),e)){d=l.addClass("text-selected");break}d.addClass("text-selected");
this.scrollSuggestionIntoView(d)}};c.selectedSuggestionElement=function(){return this.suggestionElements().filter(".text-selected").first()};c.isDropdownVisible=function(){return!0===this.containerElement().is(":visible")};c.onGetFormData=function(b,c,d){b=this.val();c[100]=this.formDataObject(b,b)};c.initPriority=function(){return 200};c.onHideDropdown=function(b){this.hideDropdown()};c.onToggleDropdown=function(b){this.trigger(this.containerElement().is(":visible")?"hideDropdown":"showDropdown")};
c.onShowDropdown=function(e,c){var d=this.selectedSuggestionElement().data("text-suggestion");if(!this._suggestions)return this.trigger("getSuggestions");b.isFunction(c)?c(this):(this.renderSuggestions(this._suggestions),this.toggleNextSuggestion());this.showDropdown(this.containerElement());this.setSelectedSuggestion(d)};c.onSetSuggestions=function(b,c){var d=this._suggestions=c.result;!1!==c.showHideDropdown&&this.trigger(null===d||0===d.length?"hideDropdown":"showDropdown")};c.getSuggestions=function(){var b=
this.val();this._previousInputValue!=b&&(""==b&&(current=null),this._previousInputValue=b,this.trigger("getSuggestions",{query:b}))};c.clearItems=function(){this.containerElement().find(".text-list").children().remove()};c.renderSuggestions=function(e){var c=this;c.clearItems();b.each(e||[],function(b,e){c.addSuggestion(e)})};c.showDropdown=function(){this.containerElement().show()};c.hideDropdown=function(){var b=this.containerElement();this._previousInputValue=null;b.hide()};c.addSuggestion=function(b){var c=
this.opts("autocomplete.render");this.addDropdownItem(c?c.call(this,b):this.itemManager().itemToString(b)).data("text-suggestion",b)};c.addDropdownItem=function(e){var c=this.containerElement().find(".text-list"),d=b(this.opts("html.suggestion"));d.find(".text-label").html(e);c.append(d);return d};c.clearSelected=function(){this.suggestionElements().removeClass("text-selected")};c.toggleNextSuggestion=function(){var b=this.selectedSuggestionElement(),c;0<b.length?(c=b.next(),0<c.length&&b.removeClass("text-selected")):
c=this.suggestionElements().first();c.addClass("text-selected");this.scrollSuggestionIntoView(c)};c.togglePreviousSuggestion=function(){var b=this.selectedSuggestionElement().prev();0!=b.length&&(this.clearSelected(),b.addClass("text-selected"),this.scrollSuggestionIntoView(b))};c.scrollSuggestionIntoView=function(b){var c=b.outerHeight(),d=this.containerElement(),l=d.innerHeight(),f=d.scrollTop();b=(b.position()||{}).top;var n=null,k=parseInt(d.css("paddingTop"));null!=b&&(b+c>l&&(n=b+f+c-l+k),0>
b&&(n=b+f-k),null!=n&&d.scrollTop(n))};c.selectFromDropdown=function(){var b=this.selectedSuggestionElement().data("text-suggestion");b&&(this.val(this.itemManager().itemToString(b)),this.core().getFormData());this.trigger("hideDropdown")};c.withinWrapElement=function(b){return 0<this.core().wrapElement().find(b).size()}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtFilter=d;b.fn.textext.addPlugin("filter",d);b=d.prototype;var c={filter:{enabled:!0,items:null}};b.init=function(b){this.baseInit(b,c);this.on({getFormData:this.onGetFormData,isTagAllowed:this.onIsTagAllowed,setSuggestions:this.onSetSuggestions});this._suggestions=null};b.onGetFormData=function(b,e,c){b=this.val();c="";this.core().hasPlugin("tags")||(this.isValueAllowed(b)&&(c=b),e[300]=this.formDataObject(b,c))};b.isValueAllowed=function(b){var c=this.opts("filterItems")||
this._suggestions||[],d=this.itemManager(),h=!this.opts("filter.enabled"),l;for(l=0;l<c.length&&!h;l++)d.compareItems(b,c[l])&&(h=!0);return h};b.onIsTagAllowed=function(b,c){c.result=this.isValueAllowed(c.tag)};b.onSetSuggestions=function(b,c){this._suggestions=c.result}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtFocus=d;b.fn.textext.addPlugin("focus",d);b=d.prototype;var c={html:{focus:'<div class="text-focus"/>'}};b.init=function(b){this.baseInit(b,c);this.core().wrapElement().append(this.opts("html.focus"));this.on({blur:this.onBlur,focus:this.onFocus});this._timeoutId=0};b.onBlur=function(b){var c=this;clearTimeout(c._timeoutId);c._timeoutId=setTimeout(function(){c.getFocus().hide()},100)};b.onFocus=function(b){clearTimeout(this._timeoutId);this.getFocus().show()};
b.getFocus=function(){return this.core().wrapElement().find(".text-focus")}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtPrompt=d;b.fn.textext.addPlugin("prompt",d);var c=d.prototype,f={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};c.init=function(c){var d;this.baseInit(c,f);d=b(this.opts("html.prompt"));b(this).data("container",d);this.core().wrapElement().append(d);this.setPrompt(this.opts("prompt"));(d=c.input().attr("placeholder"))||(d=this.opts("prompt"));c.input().attr("placeholder","");d&&this.setPrompt(d);0<b.trim(this.val()).length&&this.hidePrompt();
this.on({blur:this.onBlur,focus:this.onFocus,postInvalidate:this.onPostInvalidate,postInit:this.onPostInit})};c.onPostInit=function(b){this.invalidateBounds()};c.onPostInvalidate=function(b){this.invalidateBounds()};c.invalidateBounds=function(){var b=this.input();this.containerElement().css({paddingLeft:b.css("paddingLeft"),paddingTop:b.css("paddingTop")})};c.onBlur=function(b){var c=this;c.startTimer("prompt",0.1,function(){c.showPrompt()})};c.showPrompt=function(){var c=this.input();0!==b.trim(this.val()).length||
c.is(":focus")||this.containerElement().removeClass("text-hide-prompt")};c.hidePrompt=function(){this.stopTimer("prompt");this.containerElement().addClass("text-hide-prompt")};c.onFocus=function(b){this.hidePrompt()};c.setPrompt=function(b){this.containerElement().text(b)};c.containerElement=function(){return b(this).data("container")}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtSuggestions=d;b.fn.textext.addPlugin("suggestions",d);b=d.prototype;var c={suggestions:null};b.init=function(b){this.baseInit(b,c);this.on({getSuggestions:this.onGetSuggestions,postInit:this.onPostInit})};b.setSuggestions=function(b,c){this.trigger("setSuggestions",{result:b,showHideDropdown:!1!=c})};b.onPostInit=function(b){this.setSuggestions(this.opts("suggestions"),!1)};b.onGetSuggestions=function(b,c){var d=this.opts("suggestions");d.sort();this.setSuggestions(this.itemManager().filter(d,
c.query))}})(jQuery);
(function(b){function d(){}b.fn.textext.TextExtTags=d;b.fn.textext.addPlugin("tags",d);var c=d.prototype,f="text-tag",e="."+f,g=".text-label",h={tags:{enabled:!0,items:null},html:{tags:'<div class="text-tags"/>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="text-remove"/></div></div>'}};c.init=function(c){this.baseInit(c,h);c=this.input();var e;this.opts("tags.enabled")&&(e=b(this.opts("html.tags")),c.after(e),b(this).data("container",e),this.on({enterKeyPress:this.onEnterKeyPress,
backspaceKeyDown:this.onBackspaceKeyDown,preInvalidate:this.onPreInvalidate,postInit:this.onPostInit,getFormData:this.onGetFormData}),this.on(e,{click:this.onClick,mousemove:this.onContainerMouseMove}),this.on(c,{mousemove:this.onInputMouseMove}));this._originalPadding={left:parseInt(c.css("paddingLeft")||0),top:parseInt(c.css("paddingTop")||0)};this._paddingBox={left:0,top:0};this.updateFormCache()};c.containerElement=function(){return b(this).data("container")};c.onPostInit=function(b){this.addTags(this.opts("tags.items"))};
c.onGetFormData=function(b,c,e){b=13===e?"":this.val();c[200]=this.formDataObject(b,this._formData)};c.initPriority=function(){return 100};c.onInputMouseMove=function(b){this.toggleZIndex(b)};c.onContainerMouseMove=function(b){this.toggleZIndex(b)};c.onBackspaceKeyDown=function(b){b=this.tagElements().last();0==this.val().length&&this.removeTag(b)};c.onPreInvalidate=function(b){b=this.tagElements().last();var c=b.position();0<b.length?c.left+=b.innerWidth():c=this._originalPadding;this._paddingBox=
c;this.input().css({paddingLeft:c.left,paddingTop:c.top})};c.onClick=function(c){function d(b,c){q.data(f,b);q.find(g).text(h.itemManager().itemToString(b));h.updateFormCache();k.getFormData();k.invalidateBounds();c&&k.focusInput()}var h=this,k=h.core();c=b(c.target);var r=0,q;c.is(".text-tags")?r=1:c.is(".text-remove")?(h.removeTag(c.parents(e+":first")),r=1):c.is(g)&&(q=c.parents(e+":first"),h.trigger("tagClick",q,q.data(f),d));r&&k.focusInput()};c.onEnterKeyPress=function(b){b=this.val();b=this.itemManager().stringToItem(b);
this.isTagAllowed(b)&&(this.addTags([b]),this.core().focusInput())};c.updateFormCache=function(){var c=[];this.tagElements().each(function(){c.push(b(this).data(f))});this._formData=c};c.toggleZIndex=function(b){var c=this.input().offset(),e=b.clientX-c.left,d=b.clientY-c.top,g=this._paddingBox;b=this.containerElement();c=b.is(".text-tags-on-top");e=e>g.left&&d>g.top;if(!c&&!e||c&&e)b[(c?"remove":"add")+"Class"]("text-tags-on-top")};c.tagElements=function(){return this.containerElement().find(e)};
c.isTagAllowed=function(b){b={tag:b,result:!0};this.trigger("isTagAllowed",b);return!0===b.result};c.addTags=function(b){if(b&&0!=b.length){var c=this.core(),e=this.containerElement(),d,g;for(d=0;d<b.length;d++)(g=b[d])&&this.isTagAllowed(g)&&e.append(this.renderTag(g));this.updateFormCache();c.getFormData();c.invalidateBounds()}};c.getTagElement=function(c){var e=this.tagElements(),d,g;for(d=0;d<e.length,g=b(e[d]);d++)if(this.itemManager().compareItems(g.data(f),c))return g};c.removeTag=function(c){var e=
this.core(),d;c instanceof b?(d=c,c.data(f)):d=this.getTagElement(c);d.remove();this.updateFormCache();e.getFormData();e.invalidateBounds()};c.renderTag=function(c){var e=b(this.opts("html.tag"));e.find(".text-label").text(this.itemManager().itemToString(c));e.data(f,c);return e}})(jQuery);
(function(b,d){"$:nomunge";var c=b.jQuery||b.Cowboy||(b.Cowboy={}),f;c.throttle=f=function(b,g,f,l){function m(){function c(){k=+new Date;f.apply(t,w)}function m(){n=d}var t=this,v=+new Date-k,w=arguments;l&&!n&&c();n&&clearTimeout(n);l===d&&v>b?c():!0!==g&&(n=setTimeout(l?m:c,l===d?b-v:b))}var n,k=0;"boolean"!==typeof g&&(l=f,f=g,g=d);c.guid&&(m.guid=f.guid=f.guid||c.guid++);return m};c.debounce=function(b,c,h){return h===d?f(b,c,!1):f(b,h,!1!==c)}})(this);
MessageBundle={en:{"ajax.loading":"loading...","ajax.error":"network error,please try later",required:"please input value","required.only.one":"{0} are required only one","required.at.least.one":"{0} are required at least one","selection.required":"please select",phone:"please input valid phone number",email:"please input valid email",regex:"please input valid value",integer:"must be a integer","integer.positive":"must be a positive integer","double":"must be a decimal","double.positive":"must be a positive decimal",
"save.and.create":"save and add","no.selection":"no selection","no.modification":"no modification",select:"please select","confirm.delete":"are you sure to delete?","confirm.save":"are you sure to save?","confirm.exit":"you have unsaved modification,are you sure to exit?","confirm.action":"please confirm this action?","unsupported.browser":"unsupported browser","action.denied":"requested action denied","maximum.exceeded":"{0} , exceed maximum {1}","pattern.coords.invalid":"coords should be between {0} and {1}",
"data.invalid":"data invalid,please check it.","repeat.not.matched":"repeat match failed"},zh_CN:{"ajax.loading":"\u6b63\u5728\u52a0\u8f7d...","ajax.error":"\u9519\u8bef,\u8bf7\u7a0d\u540e\u518d\u8bd5",required:"\u8bf7\u586b\u5199","required.only.one":"{0}\u5fc5\u987b\u8981\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u4e0d\u4e3a\u7a7a","required.at.least.one":"{0}\u81f3\u5c11\u8981\u4e00\u4e2a\u4e0d\u4e3a\u7a7a","selection.required":"\u8bf7\u9009\u62e9",email:"email\u4e0d\u5408\u6cd5",regex:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u683c\u5f0f",
phone:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u53f7\u7801",integer:"\u8bf7\u586b\u5199\u6574\u6570","integer.positive":"\u8bf7\u586b\u5199\u6b63\u6574\u6570","double":"\u8bf7\u586b\u5199\u6570\u5b57","double.positive":"\u8bf7\u586b\u5199\u5927\u4e8e\u96f6\u7684\u6570\u503c","save.and.create":"\u4fdd\u5b58\u5e76\u65b0\u5efa","no.selection":"\u6ca1\u6709\u9009\u4e2d","no.modification":"\u6ca1\u6709\u66f4\u6539",add:"\u6dfb\u52a0",remove:"\u5220\u9664",browse:"\u6d4f\u89c8\u6587\u4ef6",select:"\u8bf7\u9009\u62e9",
pick:"\u8bf7\u6311\u9009",save:"\u4fdd\u5b58",restore:"\u8fd8\u539f","import":"\u5bfc\u5165",cancel:"\u53d6\u6d88",error:"\u9519\u8bef",success:"\u64cd\u4f5c\u6210\u529f",confirm:"\u786e\u5b9a","confirm.delete":"\u786e\u5b9a\u8981\u5220\u9664?","confirm.save":"\u786e\u5b9a\u8981\u4fdd\u5b58?","confirm.exit":"\u6709\u6539\u52a8\u672a\u4fdd\u5b58,\u786e\u5b9a\u8981\u79bb\u5f00?","confirm.action":"\u8bf7\u786e\u8ba4\u6b64\u64cd\u4f5c","true":"\u662f","false":"\u5426","unsupported.browser":"\u4f60\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u8be5\u529f\u80fd",
"action.denied":"\u4f60\u62d2\u7edd\u4e86\u8bf7\u6c42","maximum.exceeded":"{0} ,\u8d85\u8fc7\u6700\u5927\u9650\u5236\u6570{1}","pattern.coords.invalid":"\u5750\u6807\u6570\u5fc5\u987b\u5728{0}\u548c{1}\u4e4b\u95f4","data.invalid":"\u6570\u636e\u9519\u8bef,\u8bf7\u68c0\u67e5","repeat.not.matched":"\u4e24\u6b21\u8f93\u5165\u4e0d\u4e00\u81f4"},get:function(){var b=arguments[0],d=MessageBundle.lang(),d=MessageBundle[d][b];"undefined"==typeof d&&(d=b);for(b=1;b<arguments.length;b++)d=d.replace("{"+(b-
1)+"}",arguments[b]);return d},lang:function(){var b=$.cookie("locale")||navigator.language||navigator.browserLanguage||"",d=b.indexOf("-");0<d&&(b=b.substring(0,d)+"_"+b.substring(d+1).toUpperCase());MessageBundle[b]||(d=b.indexOf("_"),0<d&&(b=b.substring(0,d)),MessageBundle[b]||(b="en"));return b},shortLang:function(){var b=MessageBundle.lang(),d=b.indexOf("_");0<d&&(b=b.substring(0,d));return b}};var MODERN_BROWSER=!$.browser.msie||8<$.browser.version;
(function(){var b=document.domain;if(!b.match(/^(\d+\.){3}\d+$/)){b=b.split(".");try{2<b.length&&(document.domain=b[b.length-2]+"."+b[b.length-1])}catch(d){3<b.length&&(document.domain=b[b.length-3]+"."+b[b.length-2]+"."+b[b.length-1])}}$.ajaxSettings.traditional=!0;var c=$.ajax;MODERN_BROWSER&&($.ajax=function(b){b.url=UrlUtils.makeSameOrigin(b.url);b.xhrFields={withCredentials:!0};return c(b)});if("undefined"!=typeof $.rc4EncryptStr&&"false"!=$('meta[name="pe"]').attr("content")){var f=$.param;
$.param=function(b,c){(jQuery.isArray(b)||b.jquery)&&jQuery.each(b,function(){if(/password$/.test(this.name.toLowerCase()))try{var b=$.cookie("T"),b=b.substring(15,25);this.value=$.rc4EncryptStr(encodeURIComponent(this.value+b),b)}catch(c){}});return f(b,c)}}})();
Indicator={text:"",show:function(b){$("#indicator").length||$('<div id="indicator"></div>').appendTo(document.body);var d=$("#indicator");b&&d.hasClass("loading")&&d.removeClass("loading");b||d.hasClass("loading")||d.addClass("loading");d.html(Indicator.text||MessageBundle.get("ajax.loading"));d.show();Indicator.text=""},showError:function(){Indicator.text=MessageBundle.get("ajax.error");Indicator.show(!0)},hide:function(){Indicator.text="";$("#indicator")&&$("#indicator").hide()}};
UrlUtils={extractDomain:function(b){if(UrlUtils.isAbsolute(b)){b=b.replace(/:\d+/,"");b=b.substring(b.indexOf("://")+3);var d=b.indexOf("/");0<d&&(b=b.substring(0,d));return b}return document.location.hostname},isSameDomain:function(b,d){d=d||document.location.href;var c=UrlUtils.extractDomain(b),f=UrlUtils.extractDomain(d);return c==f},isSameOrigin:function(b,d){d=d||document.location.href;var c=UrlUtils.extractDomain(b),f=UrlUtils.extractDomain(d);if($.browser.msie&&c!=f)return!1;c=c.split(".");
f=f.split(".");return c[c.length-1]==f[f.length-1]&&c[c.length-2]==f[f.length-2]},makeSameOrigin:function(b,d){d=d||document.location.href;return UrlUtils.isSameOrigin(b,d)?b:d.substring(0,d.indexOf("/",d.indexOf("://")+3))+CONTEXT_PATH+"/webproxy/"+b},isAbsolute:function(b){if(!b)return!1;b=b.indexOf("://");return 4==b||5==b},absolutize:function(b){if(UrlUtils.isAbsolute(b))return b;var d=document.location.href,c=d.indexOf("://");return 0==b.length||0==b.indexOf("/")?d.substring(0,d.indexOf("/",
c+3))+CONTEXT_PATH+b:d.substring(0,d.lastIndexOf("/")+1)+b}};
Message={compose:function(b,d){return'<div class="'+d+'"><a class="close" data-dismiss="alert">&times;</a>'+b+"</div>"},showMessage:function(){Message.showActionMessage(MessageBundle.get.apply(this,arguments))},showError:function(){Message.showActionError(MessageBundle.get.apply(this,arguments))},showActionError:function(b,d){Message.showActionMessage(b,d,!0)},showActionMessage:function(b,d,c){if(b){if("string"==typeof b){var f=[];f.push(b);b=f}for(var f="",e=0;e<b.length;e++)f+=Message.compose(b[e],
c?"action-error alert alert-error":"action-message alert alert-info");f&&(b=$("#content"),$(".ui-dialog:visible").length&&(b=$(".ui-dialog:visible .ui-dialog-content")),$(".modal:visible").length&&(b=$(".modal:visible .modal-body")),$("#message",b).length||$('<div id="message"></div>').prependTo(b),b=$("#message",b),c&&d&&"FORM"==$(d).prop("tagName")&&($(d).attr("id")||$(d).attr("id","form"+(new Date).getTime()),c=$(d).attr("id"),0==$("#"+c+"_message").length&&$('<div id="'+c+'_message" class="message-container"></div>').insertBefore(d),
b=$("#"+c+"_message")),b.html(f),_observe(b),$("html,body").animate({scrollTop:b.offset().top-50},100))}},showFieldError:function(b,d,c){d=d||MessageBundle.get(c);if(b&&$(b).length)if(b=$(b),c=b.closest(".control-group").parent(".tab-pane"),c.length&&!c.hasClass("active")&&$('a[href$="#'+c.attr("id")+'"]').tab("show"),c=b.closest(".control-group"),c.addClass("error"),$(".field-error",b.parent()).remove(),b.hasClass("sqleditor")?b=b.next(".preview"):b.hasClass("chzn-done")&&(b=b.next(".chzn-container")),
b.is(":visible")){d=$('<div class="field-error removeonclick"><div class="field-error-content">'+d+"</div><div>").insertAfter(b);$('<div class="field-error-arrow"/>').html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>').appendTo(d);
var f=b.width(),e=d.height();c=b.position().top;b=b.position().left+f-30;d.css({top:c+"px",left:b+"px",marginTop:-e+"px",opacity:0});d.animate({opacity:0.8})}else b.is('[type="hidden"]')?c.length?$('<span class="field-error">'+d+"</span>").appendTo($(".controls",c)):b.next(".listpick,.treeselect").length?$('<span class="field-error">'+d+"</span>").insertAfter(b.next()):Message.showActionError(d):Message.showActionError(d);else Message.showActionError(d)}};
Form={focus:function(b){for(var d=$(":input:visible",b).get(),c=0;c<d.length;c++)if($(".field-error",$(d[c]).parent()).length){setTimeout(function(){$(d[c]).focus()},50);break}},validate:function(b){if("FORM"!=$(b).prop("tagName")){$(b).closest(".control-group").removeClass("error");$(".field-error",$(b).parent()).fadeIn().remove();if($(b).is('input[type="radio"]')&&$(b).hasClass("required")){var d=$('input[type="radio"][name="'+b.name+'"]',b.form),c=!1;$.each(d,function(b,e){e.checked&&(c=!0)});
if(!c)return Message.showFieldError(b,null,"required"),!1}var f=!0,d=$(b).closest(".control-group").parent(".tab-pane"),e=d.length&&"none"!=$(b).css("display")&&!d.hasClass("active");if(!e||!$(".control-group.error",d.siblings(".tab-pane.active")).length){if((e||$(b).is(':visible,[type="hidden"],.sqleditor,.chzn-done'))&&!$(b).prop("disabled"))if(d=$(b).val(),$(b).hasClass("required")&&!d)"SELECT"==$(b).prop("tagName")||$(b).is('[type="hidden"]')?Message.showFieldError(b,null,"selection.required"):
Message.showFieldError(b,null,"required"),e&&$('a[href="#'+$(b).closest(".tab-pane").attr("id")+'"]').tab("show"),f=!1;else if($(b).hasClass("email")&&d&&!d.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/))Message.showFieldError(b,null,"email"),f=!1;else if($(b).hasClass("regex")&&d&&!d.match(RegExp($(b).data("regex"))))Message.showFieldError(b,null,"regex"),f=!1;else if($(b).hasClass("phone")&&d&&!d.match(/^[\d-]+$/))Message.showFieldError(b,null,"phone"),f=!1;else if(($(b).hasClass("integer")||
$(b).hasClass("long"))&&d)!$(b).hasClass("positive")||d.match(/^[+]?\d*$/)&&($(b).hasClass("zero")||0!=parseInt(d))||(Message.showFieldError(b,null,"integer.positive"),f=!1),$(b).hasClass("positive")||d.match(/^[-+]?\d*$/)||(Message.showFieldError(b,null,"integer"),f=!1);else if($(b).hasClass("double")&&d){if(!$(b).hasClass("positive")||d.match(/^[+]?\d+\.?(\d+)?$/)&&($(b).hasClass("zero")||0!=parseFloat(d))||(Message.showFieldError(b,null,"double.positive"),f=!1),$(b).hasClass("positive")||d.match(/^[-+]?\d+\.?(\d+)?$/)||
(Message.showFieldError(b,null,"double"),f=!1),e=d.indexOf("."),-1<e){var g=d.substring(e+1),h=parseInt($(b).data("scale")||"2");g.length>h&&(d=d.substring(0,e+1)+g.substring(0,h),$(b).val(d))}}else $(b).hasClass("repeat")&&d!=$('[name="'+$(b).data("repeatwith")+'"]',$(b).closest("form")).val()&&(Message.showFieldError(b,null,"repeat.not.matched"),f=!1);return f}}else{f=!0;$(":input",b).each(function(){Form.validate(this)||(f=!1)});f||Form.focus(b);var l={};$("[data-only-one-required-group]",b).each(function(){var b=
$(this);if(b.is(':visible,[type="hidden"],.sqleditor,.chzn-done')&&!b.prop("disabled")){var c=b.data("only-one-required-group"),e=l[c];e||(e=[],l[c]=e);e.push(b)}});for(d in l){var e=l[d],m=0,n=[];$.each(e,function(b,c){n.push($(".control-label",c.closest(".control-group")).text());c.val()&&m++});1!=m&&(f=!1,$.each(e,function(b,c){c.closest(".control-group").addClass("error")}),Message.showActionError(MessageBundle.get("required.only.one","["+n+"]"),b))}l={};$("[data-at-least-one-required-group]",
b).each(function(){var b=$(this);if(b.is(':visible,[type="hidden"],.sqleditor,.chzn-done')&&!b.prop("disabled")){var c=b.data("at-least-one-required-group"),e=l[c];e||(e=[],l[c]=e);e.push(b)}});for(d in l)e=l[d],m=0,n=[],$.each(e,function(b,c){n.push($(".control-label",c.closest(".control-group")).text());c.val()&&m++}),1>m&&(f=!1,$.each(e,function(b,c){c.closest(".control-group").addClass("error")}),Message.showActionError(MessageBundle.get("required.at.least.one","["+n+"]"),b));return f}}};
Ajax={defaultRepacement:"content",fire:function(b,d){if(!b)return!0;var c=b[d];"undefined"==typeof c&&(c=$(b).attr(d));if("undefined"==typeof c||!c)return!0;var f=[];if(2<arguments.length)for(var e=2;e<arguments.length;e++)f[e-2]=arguments[e];var g;if("function"==typeof c)g=c.apply(b,f);else{-1<c.indexOf("return")&&(c=c.replace("return",""));b._temp=function(){return eval(c)};try{g=b._temp()}catch(h){alert(h)}}return!1==g?!1:!0},handleResponse:function(b,d){if(b){var c=!1,f=d.target;f&&$(f).parents("div.ui-dialog").length&&
(d.quiet=!0);"string"!=typeof b||0!=b.indexOf("{")&&0!=b.indexOf("[")||(b=$.parseJSON(b));if("string"==typeof b){0<=b.indexOf("<title>")&&0<b.indexOf("</title>")&&(Ajax.title=b.substring(b.indexOf("<title>")+7,b.indexOf("</title>")),d.replaceTitle&&(document.title=Ajax.title),b=b.substring(b.indexOf("</title>")+8));var e=b.replace(/<script(.|\s)*?\/script>/g,""),g=$("<div/>").html(e),h=d.replacement,l;for(l in h){var m=$("#"+l);l!=Ajax.defaultRepacement||m.length||(m=$("body"));$(".intervaled",m).each(function(){clearInterval($(this).data("_interval"))});
if(!d.quiet&&m.length){var n=$(".pin",m),n=n.length?n.offset().top:m.offset().top;$("html,body").animate({scrollTop:n-50},100)}n=g.find("#"+h[l]);n.length?0==n.children().length?m.replaceWith(n):m.html(n.html()):g.find("#content").length?m.html(g.find("#content").html()):g.find("body").length?m.html(g.find("body").html()):m.html(e);d.quiet||"undefined"==typeof $.effects||m.effect("highlight");_observe(m)}g.remove();d.onsuccess&&d.onsuccess.apply(window);Ajax.fire(f,"onsuccess",b)}else if(Ajax.jsonResult=
b,b.fieldErrors||b.actionErrors?(c=!0,d.onerror&&d.onerror.apply(window),Ajax.fire(f,"onerror",b)):(d.onsuccess&&d.onsuccess.apply(window),Ajax.fire(f,"onsuccess",b)),setTimeout(function(){Message.showActionError(b.actionErrors,f);Message.showActionMessage(b.actionMessages,f)},500),b.fieldErrors)if(f){for(l in b.fieldErrors)Message.showFieldError(f[l],b.fieldErrors[l]);Form.focus(f)}else for(l in b.fieldErrors)Message.showActionError(b.fieldErrors[l]);f&&"FORM"==f.tagName&&(!c&&$(f).hasClass("disposable")?
setTimeout(function(){$(":input",f).prop("disabled",!0)},100):setTimeout(function(){$('button[type="submit"]',f).prop("disabled",!1);Captcha.refresh()},100),!c&&$(f).hasClass("reset")&&f.reset&&f.reset());Indicator.text="";Ajax.fire(f,"oncomplete",b)}},jsonResult:null,title:""};
function ajaxOptions(b){b=b||{};b.dataType||(b.dataType="text");b.headers||(b.headers={});$.extend(b.headers,{"X-Data-Type":b.dataType});for(var d=$(b.target),c={},d=(b.replacement||$(b.target).data("replacement")||("FORM"==$(b.target).prop("tagName")?$(d).attr("id"):null)||Ajax.defaultRepacement).split(","),f=[],e=0;e<d.length;e++){var g=d[e].split(":",2),h=2==g.length?g[1]:g[0];c[g[0]]=h;f.push(h!=Ajax.defaultRepacement?h:"_")}b.replacement=c;$.extend(b.headers,{"X-Fragment":f.join(",")});var l=
b.beforeSend;b.beforeSend=function(c){l&&l(c);Indicator.text=b.indicator;Ajax.fire(null,b.onloading)};var m=b.success;b.success=function(c,e,d){Ajax.handleResponse(c,b);!m||c.fieldErrors||c.actionErrors||m(c,e,d)};return b}function ajax(b){return $.ajax(ajaxOptions(b))}var CONTEXT_PATH=$('meta[name="context_path"]').attr("content")||"";"undefined"==typeof Initialization&&(Initialization={});"undefined"==typeof Observation&&(Observation={});
function _init(){var b=[],d;for(d in Initialization)"function"==typeof Initialization[d]&&b.push(d);b.sort();for(d=0;d<b.length;d++)Initialization[b[d]].call(this);_observe()}function _observe(b){b||(b=document);$(".chart,form.ajax,.ajaxpanel",b).each(function(b){$(this).attr("id")||$(this).attr("id",("a"+(b+Math.random())).replace(".","").substring(0,5))});var d=[],c;for(c in Observation)"function"==typeof Observation[c]&&d.push(c);d.sort();for(c=0;c<d.length;c++)Observation[d[c]].call(this,b)}$(_init);
Initialization.common=function(){$(document).ajaxStart(function(){Indicator.show()}).ajaxError(function(){Indicator.showError()}).ajaxSuccess(function(b,c){Indicator.hide();var f=c.getResponseHeader("X-Redirect-To");if(f){$("body").html('<div class="modal"><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 50%;"></div></div></div></div>');f=UrlUtils.absolutize(f);try{var e=top.location.href;e&&UrlUtils.isSameDomain(e,f)?top.location.href=f:document.location.href=
f}catch(g){document.location.href=f}}}).keyup(function(b){27==b.keyCode&&($(".modal:visible").length?$(".modal:visible").last().find(".close").click():$(".ui-dialog:visible").length&&$(".ui-dialog:visible").last().find(".ui-dialog-titlebar-close").click())}).on("click","#message .close,.message-container .close",function(){$("#message,.message-container").each(function(b,c){$.trim($(c).text())||$(c).remove()})}).on("click",".removeonclick",function(){$(this).remove()}).on("validate",":input",function(b){Form.validate(this)}).on("keyup",
"input,textarea",$.debounce(200,function(b){$(this).hasClass("email")||$(this).hasClass("regex")||$(this).hasClass("repeat")||13==b.keyCode||$(this).val()&&Form.validate(this);return!0})).on("focusout","input,textarea",function(b){($(this).hasClass("email")||$(this).hasClass("regex")||$(this).hasClass("repeat")||!$(this).hasClass("required"))&&Form.validate(this);return!0}).on("change","select",function(){Form.validate(this);return!0}).on("dblclick",".ui-dialog-titlebar",function(){Dialog.toggleMaximization($(".ui-dialog-content",
$(this).closest(".ui-dialog")))}).on("mouseenter",".popover,.tooltip",function(){$(this).remove()}).on("click",".action-error strong.force-override",function(b){b=$(b.target).closest(".message-container");if(b.length){var c=b.next("form");$('input[type="hidden"].version',c).remove();b.fadeOut().remove();c.submit()}else b=$('button[data-action="save"]:visible'),$("tr",b.closest("form")).removeData("version").removeAttr("data-version"),b.click()}).on("change","select",function(b){b=$(this);b.val()?
b.removeClass("empty"):b.addClass("empty")});$.alerts.okButton=MessageBundle.get("confirm");$.alerts.cancelButton=MessageBundle.get("cancel");Nav.init();Nav.activate(document.location.pathname);var b=document.location.hash;b&&$(".nav-tabs").each(function(){var d=!1;$('a[data-toggle="tab"]',this).each(function(){var c=$(this);if(!d){var f=c.attr("data-target");f||(f=(f=c.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));f==b&&(d=!0,c.tab("show"),$target=$(f),$target.hasClass("ajaxpanel")&&$target.removeClass("manual"))}})});
$(document.body).hasClass("render-location-qrcode")&&($('<div id="render-location-qrcode" style="width:15px;position:fixed;bottom:0;right:0;cursor:pointer;"><i class="glyphicon glyphicon-qrcode"></i></div>').appendTo(document.body),$("#render-location-qrcode").click(function(){var b=$(this);b.hide();var c=$('<div class="modal" style="z-index:10000;"><div class="modal-close"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">\u00d7</button></div><div class="modal-body" style="max-height:600px;"><div class="location-qrcode">'+
document.location.href+"</div></div></div>").appendTo(document.body);$(".location-qrcode",c).encodeqrcode();$("button.close",c).click(function(){c.remove();b.show()})}));-1!=document.location.search.indexOf("printpage=true")&&(window.print(),setTimeout(function(){window.close()},1E3))};var HISTORY_ENABLED=MODERN_BROWSER&&("undefined"!=typeof history.pushState||"undefined"!=typeof $.history)&&"false"!=$('meta[name="history_enabled"]').attr("content");
if(HISTORY_ENABLED){var SESSION_HISTORY_SUPPORT="undefined"!=typeof history.pushState&&0!=document.location.hash.indexOf("#!/"),_historied_=!1;Initialization.history=function(){SESSION_HISTORY_SUPPORT?window.onpopstate=function(b){var d=document.location.href;Nav.activate(d);b.state&&ajax({url:d,replaceTitle:!0,replacement:b.state.replacement,cache:!1})}:$.history.init(function(b){if(!(!b&&!_historied_||b&&0>b.indexOf("!"))){var d=document.location.href;0<d.indexOf("#")&&(d=d.substring(0,d.indexOf("#")));
b.length&&(b=b.substring(1),UrlUtils.isSameDomain(b)&&CONTEXT_PATH&&(b=CONTEXT_PATH+b),d=b);_historied_=!0;ajax({url:d,cache:!0,replaceTitle:!0,success:function(){Nav.activate(d)}})}},{unescape:!0})}}
Observation.common=function(b){$("select",b).each(function(b){b=$(this);b.val()||b.addClass("empty")});$(".controls .field-error",b).each(function(){var b=$(this).text(),c=$(":input",$(this).parent());$(this).remove();Message.showFieldError(c,b)});var d="FORM"==$(b).prop("tagName")&&$(b).hasClass("focus")?b:$(".focus:eq(0)",b);if("FORM"!=d.prop("tagName")&&d.attr("name"))d.focus();else for(var d=$(":input:visible",d).toArray(),c=0;c<d.length;c++){var f=$(d[c]);if(f.attr("name")&&!f.val()){f.focus();
break}}$("form",b).each(function(){$(this).hasClass("ajax")||$(this).submit(function(){$(".action-error").remove();return Form.validate(this)})});$('input[type="text"]',b).on("paste",function(){var b=$(this);setTimeout(function(){b.val($.trim(b.val()))},50)}).each(function(){var b=$(this);b.attr("autocomplete")||b.attr("autocomplete","off");if(!b.hasClass("unlimited")){var c=b.attr("maxlength");if(!c||4E3<c)b.hasClass("date")?b.attr("maxlength","10"):b.hasClass("datetime")?b.attr("maxlength","19"):
b.hasClass("time")?b.attr("maxlength","8"):b.hasClass("integer")?b.attr("maxlength","11"):b.hasClass("long")?b.attr("maxlength","20"):b.hasClass("double")?b.attr("maxlength","22"):b.attr("maxlength","255")}});MODERN_BROWSER&&$('input[type="checkbox"].custom,input[type="radio"].custom',b).each(function(b){$(this).hide();this.id||(this.id=("a"+(b+Math.random())).replace(".","").substring(0,9));$(this).next("lable.custom").length||$(this).after($('<label class="custom" for="'+this.id+'"></label>'))});
$(".linkage",b).each(function(){var b=$(this);b.data("originalclass",b.attr("class"));var c=$(".linkage_switch",b);$(".linkage_component",b).show();$(".linkage_component",b).not("."+c.val()).hide().filter(":input").val("");b.attr("class",b.data("originalclass")+" "+c.val());c.change(function(){var b=$(this).closest(".linkage"),c=$(this);$(".linkage_component",b).show();$(".linkage_component",b).not("."+c.val()).hide().filter(":input").val("");b.attr("class",b.data("originalclass")+" "+c.val())})});
$(":input.conjunct",b).change(function(){var b=$(this),c=$(this).closest("form"),d={},f=c.attr("action");-1<f.indexOf("/")?"save"==f.substring(f.lastIndexOf("/")+1)&&(f=f.substring(0,f.lastIndexOf("/"))+"/input"):"save"==f&&(f="input");var m=$('input[type=hidden][name$=".id"]',c);m.val()&&(d.id=m.val());d[b.attr("name")]=b.val();$("input[type=hidden]:not(.nocheck)",c).each(function(){d[$(this).attr("name")]=$(this).val()});ajax({global:!1,quiet:!0,type:b.data("method")||c.attr("method"),url:f,data:d,
target:c[0],replacement:b.data("replacement")})});"undefined"!=typeof $.fn.datetimepicker&&$("input.date,input.datetime,input.time",b).not("[readonly]").not("[disabled]").each(function(){var b=$(this),c={language:MessageBundle.lang().replace("_","-")};b.hasClass("datetime")?c.format=b.data("format")||"yyyy-MM-dd HH:mm:ss":b.hasClass("time")?(c.format=b.data("format")||"HH:mm:ss",c.pickDate=!1):(c.format=b.data("format")||"yyyy-MM-dd",c.pickTime=!1);b.datetimepicker(c).on("changeDate",function(c){b.trigger("validate")})});
$("input.captcha",b).focus(function(){$(this).data("_captcha_")||($(this).after('<img class="captcha" src="'+this.id+'"/>'),$("img.captcha",b).click(Captcha.refresh),$(this).data("_captcha_",!0))});"undefined"!=typeof $.fn.treeTable&&$(".treeTable",b).each(function(){$(this).treeTable({initialState:$(this).hasClass("expanded")?"expanded":"collapsed"})});"undefined"!=typeof $.fn.chosen&&$(".chosen",b).chosen({placeholder_text:MessageBundle.get("select"),no_results_text:" "});"undefined"!=typeof $.fn.htmlarea&&
$("textarea.htmlarea",b).htmlarea({css:CONTEXT_PATH+"/assets/styles/ironrhino-min.css"});$('a[data-toggle="tab"]',b).on("shown",function(b){$this=$(b.target);b=$this.attr("data-target");b||(b=(b=$this.attr("href"))&&b.replace(/.*(?=#[^\s]*$)/,""));$target=$(b);$target.hasClass("ajaxpanel")&&$target.trigger("load")});$(".carousel",b).each(function(){var b=$(this);b.carousel((new Function("return "+(b.data("options")||"{}")))())});$(":input[data-helpurl]",b).each(function(){var b=$(this),c='<a href="'+
b.data("helpurl")+'" style="padding-left: 5px;" target="_blank"><span class="glyphicon glyphicon-question-sign"></span></a>',c=$(c).insertAfter(b);b.is("textarea")&&c.find("span").css("vertical-align","top")});$(".tiped",b).each(function(){var b=$(this),c={html:!0,trigger:b.data("trigger")||"hover",placement:b.data("placement")||"top"};!b.attr("title")&&b.data("tipurl")&&b.attr("title",MessageBundle.get("ajax.loading"));b.bind("hover"==c.trigger?"mouseenter":c.trigger,function(){b.hasClass("_tiped")||
(b.addClass("_tiped"),$.ajax({url:b.data("tipurl"),global:!1,dataType:"html",success:function(d){b.attr("data-original-title",d);b.tooltip(c).tooltip("show")}}))});b.is(":input")&&(c.trigger="focus",c.placement="right");b.tooltip(c)});$(".poped",b).each(function(){var b=$(this),c={html:!0,trigger:b.data("trigger")||"hover",placement:b.data("placement")||"right"};b.data("popurl")&&(!c.content&&b.data("popurl")&&(c.title=MessageBundle.get("ajax.loading")),b.bind("hover"==c.trigger?"mouseenter":c.trigger,
function(){b.hasClass("_poped")||(b.addClass("_poped"),$.ajax({url:b.data("popurl"),global:!1,dataType:"html",success:function(d){$("div.popover").remove();0<=d.indexOf("<title>")&&0<d.indexOf("</title>")&&b.attr("data-original-title",d.substring(d.indexOf("<title>")+7,d.indexOf("</title>")));0<=d.indexOf("<body")&&0<d.indexOf("</body>")&&b.attr("data-content",d.substring(d.indexOf(">",d.indexOf("<body")+5)+1,d.indexOf("</body>")));b.popover(c).popover("show")}}))}));b.popover(c)});$(".btn-switch",
b).each(function(){var b=$(this);b.children().css("cursor","pointer").click(function(){b.children().removeClass("active").css({"font-weight":"normal"});$(this).addClass("active").css({"font-weight":"bold"})})});$("a.popmodal",b).each(function(){var b=$(this),c=b.attr("href");-1<c.indexOf("/")&&(c=c.substring(c.lastIndexOf("/")+1));for(c+="_modal";$("#"+c).length;)c+="_";b.click(function(d){$("#"+c).length?b.hasClass("nocache")?$.get(b.data("originalhref"),function(b){b=b.replace(/<script(.|\s)*?\/script>/g,
"");b=$("<div/>").html(b);b=$("#"+c).find(".modal-body").html($("#content",b).html());_observe(b);$("#"+c).modal("show")}):$("#"+c).modal("show"):$.get(b.attr("href"),function(d){if("object"==typeof d)d.actionErrors?Message.showActionError(d.actionErrors):console.log(JSON.stringify(d));else{d=d.replace(/<script(.|\s)*?\/script>/g,"");var f=$("<div/>").html(d);d=$("title",f).html();var f=$("#content",f).html(),h=b.data("modalwidth");$('<div id="'+c+'" class="modal hide fade in"'+(h?' style="width:'+
h+';"':"")+'><div class="modal-header"><a class="close" data-dismiss="modal">&times;</a><h3 style="text-align:center;">'+d+'</h3></div><div class="modal-body" style="padding-top:40px;">'+f+"</div></div>").appendTo(document.body);_observe($("#"+c));$("form",$("#"+c)).each(function(){this.onsuccess=function(){$("#"+c).modal("hide")}});b.data("originalhref",b.attr("href")).attr("href","#"+c).attr("data-toggle","modal");$("#"+c).modal("show")}});return!1})});"undefined"!=typeof swfobject&&($(".chart",
b).each(function(){var b=$(this),c=b.attr("id"),d=b.width(),f=b.height(),m=b.data("url");0==m.indexOf("/")&&(m=document.location.protocol+"//"+document.location.host+m);c&&d&&f&&m||alert("id,width,height,data all required");swfobject.embedSWF(CONTEXT_PATH+"/assets/images/open-flash-chart.swf",c,d,f,"9.0.0",CONTEXT_PATH+"/assets/images/expressInstall.swf",{"data-file":encodeURIComponent(m),loading:MessageBundle.get("ajax.loading")},{wmode:"transparent"});b.hasClass("intervaled")&&(b.removeClass("intervaled"),
clearInterval(parseInt(b.data("_interval"))));b.data("interval")&&(d=setInterval(function(){b.data("quiet")?$.ajax({global:!1,url:m,dataType:"text",success:function(b){document.getElementById(c).load(b)}}):document.getElementById(c).reload(m)},parseInt(b.data("interval"))),b.addClass("intervaled").data("_interval",d))}),window.save_image=function(){var b=[];b.push("<html><head><title>Charts: Export as Image</title></head><body>");$("object[data]").each(function(){b.push('<img src="data:image/png;base64,'+
this.get_img_binary()+'"/>')});b.push("</body></html>");var c=window.open("","_blank");c.document.write(b.join(""));c.document.close()});$("a.ajax,form.ajax",b).each(function(){var b=this,c=ajaxOptions({target:b,onsuccess:function(c){c=$('input[type="hidden"].version',b);c.val(parseInt(c.val()||"0")+1)}});if("FORM"==this.tagName){var d={beforeSubmit:function(){if(!Ajax.fire(b,"onprepare"))return!1;$(".action-error").remove();if(!Form.validate(b))return!1;Indicator.text=$(b).data("indicator");$('button[type="submit"]',
b).prop("disabled",!0);Ajax.fire(b,"onloading");var c=$(b),f=!1;c.hasClass("history")&&(f=!0);if(!1===d.pushState||c.parents(".ui-dialog,.tab-content").length)f=!1;if(f&&HISTORY_ENABLED){var f=c.attr("action"),g=f.indexOf("://");-1<g&&(f=f.substring(g+3),f=f.substring(f.indexOf("/")));var c=c.serializeArray(),k=[];c&&($.map(c,function(b,c){"resultPage.pageNo"==b.name?b.name="pn":"resultPage.pageSize"==b.name&&(b.name="ps");"check"==b.name||"keyword"==b.name&&!b.value||"pn"==b.name&&"1"==b.value||
"ps"==b.name&&"10"==b.value||k.push({name:b.name,value:b.value})}),(c=$.param(k))&&(f+=(0<f.indexOf("?")?"&":"?")+c));c=document.location.href;SESSION_HISTORY_SUPPORT?(history.replaceState({url:c},"",c),history.pushState(f,"",f)):(CONTEXT_PATH&&(f=f.substring(CONTEXT_PATH.length)),$.history.load("!"+f))}Ajax.fire(b,"onbeforesubmit")},error:function(){Form.focus(b);b&&"FORM"==b.tagName&&setTimeout(function(){$('button[type="submit"]',b).prop("disabled",!1)},100);Ajax.fire(b,"onerror")},success:function(b){Ajax.handleResponse(b,
c)},headers:c.headers};$(this).hasClass("view")||$.extend(d.headers,{"X-Data-Type":"json"});$(this).bind("submit",function(c){c=$(this);var f=$(".clicked",c).removeClass("clicked");f.length||(f=$(":input:focus[type=submit]",c));if(f.hasClass("noajax"))return!0;if(f.hasClass("reload")||f.data("action"))d.pushState=!1;if("multipart/form-data"==$(this).attr("enctype")){var g=[];$('input[type="file"]',c).each(function(){var b=this.files;if(b&&0<b.length)for(var c=0;c<b.length;c++)g.push(b[c])});d.target=
b;$.ajaxupload(g,d)}else $(this).ajaxSubmit(d);return!1})}else $(this).click(function(){if(!Ajax.fire(b,"onprepare"))return!1;if(HISTORY_ENABLED&&$(this).hasClass("view")&&!$(this).hasClass("nohistory")&&($(this).hasClass("history")||!$(this).data("replacement"))){$(".ui-dialog:visible").children().remove();var c=this.href;if(UrlUtils.isSameDomain(c))if(c=c.substring(c.indexOf("://")+3),c=c.substring(c.indexOf("/")),SESSION_HISTORY_SUPPORT){var d=document.location.href;history.replaceState({url:d},
"",d);history.pushState({replacement:$(this).data("replacement"),url:c},"",c)}else return CONTEXT_PATH&&(c=c.substring(CONTEXT_PATH.length)),c=c.replace(/^.*#/,""),$.history.load("!"+c),!1}var f={target:this,url:this.href,type:$(this).data("method")||"GET",cache:$(this).hasClass("cache"),beforeSend:function(){$(".action-error").remove();Indicator.text=$(b).data("indicator");Ajax.fire(b,"onloading")},error:function(){Ajax.fire(b,"onerror")}};$(this).hasClass("view")?$(this).data("replacement")||(f.replaceTitle=
!0):$.extend(f.headers,{"X-Data-Type":"json"});f.onsuccess=function(){Nav.activate(f.url)};ajax(f);return!1})})};
var Nav={init:function(){$(document).on("click",".nav:not(.nav-tabs) li a",function(){$("li",$(this).closest(".nav")).removeClass("active");Nav.indicate($(this))})},activate:function(b){b=UrlUtils.absolutize(b);$(".nav:not(.nav-tabs) li").removeClass("active open");$(".nav:not(.nav-tabs) li a").each(function(){this.href!=b&&0!=b.indexOf(this.href+"?")||Nav.indicate($(this))})},indicate:function(b){var d=b.closest("li.dropdown");if(!d.length)$(b).closest("li").addClass("active"),$("#nav-breadcrumb").remove();
else if(!b.hasClass("dropdown-toggle")){d.addClass("active");var c=$("#nav-breadcrumb");c.length?c.html(""):c=$('<ul id="nav-breadcrumb" class="breadcrumb"/>').prependTo($("#content"));c.append("<li>"+d.children("a").text()+' <span class="divider">/</span></li>').append('<li class="active">'+b.text()+"</li>")}}},Dialog={adapt:function(b,d){if(d){var c=d.document;d.contentDocument?c=d.contentDocument:d.contentWindow&&(c=d.contentWindow.document);$(b).dialog("option","title",c.title);$(b).dialog("option",
"minHeight",f);var f=$(c).height()+20;$(d).height(f)}else $(b).dialog("option","title",Ajax.title);b.dialog("option","position","center");b.dialog("moveToTop")},toggleMaximization:function(b){var d=$(b).closest(".ui-dialog"),c=d.data("orginal-width");if(c)d.width(c),d.height(d.data("orginal-height")),d.removeData("orginal-width").removeData("orginal-height"),Dialog.adapt($(b));else{d.data("orginal-width",d.width()+0.2).data("orginal-height",d.height()+0.2);var c=$(window).width()-10,f=$(window).height()-
10;d.outerWidth(c);d.outerHeight()<f&&d.outerHeight(f);b.dialog("option","position","top")}}};Captcha={refresh:function(){$("img.captcha").each(function(){var b=this.src,d=b.lastIndexOf("&");0<d&&(b=b.substring(0,d));this.src=b+"&"+Math.random()});$("input.captcha").val("").focus()}};ArrayUtils={unique:function(b){if(b){for(var d=[],c={},f=0,e;null!=(e=b[f]);f++)c[e]||(d.push(e),c[e]=!0);return d}}};
(function(b){b.fn.checkavailable=function(){this.each(function(){var d=b(this);d.bind("checkavailable",function(){if(d.val()){var c=b("input[type=hidden]",d.closest("form")).not('[name^="__"]').not(".nocheck").add(d),f=d.data("checkurl");f||(f=d.closest("form").prop("action"),f=f.substring(0,f.lastIndexOf("/"))+"/checkavailable");ajax({global:!1,target:d.closest("form")[0],url:f,data:c.serialize()})}}).change(function(){d.addClass("dirty")}).blur(function(){d.hasClass("dirty")&&!d.next(".field-error").length&&
d.trigger("checkavailable")})});return this}})(jQuery);Observation.checkavailable=function(b){$(":input.checkavailable",b).checkavailable()};
Observation.tags=function(b){"undefined"!=typeof $.fn.textext&&(!$.browser.msie||"8"<$.browser.version)&&$("input.tags",b).each(function(){var b=$(this),c={prompt:"...",autocomplete:{dropdownMaxHeight:"200px",render:function(b){return"string"==typeof b?b:b.label?'<div value="'+b.value+'">'+b.label+"</div>":b.value}},ext:{core:{serializeData:function(b){return b.join(",")}},itemManager:{itemToString:function(b){return"string"==typeof b?b:b.value}},autocomplete:{showDropdown:function(){$(".text-suggestion",
this.containerElement()).length&&this.containerElement().show()},renderSuggestions:function(b){var c=this;c.clearItems();var d=[];$(".text-tags .text-label",c.container).each(function(){d.push($(this).text())});$.each(b||[],function(b,e){for(var f=c.itemManager().itemToString(e),g=!1,q=0;q<d.length;q++)if(d[q]==f){g=!0;break}g||c.addSuggestion(e)})}}}},f=b.val();f&&(0==f.indexOf('["')?c.tagsItems=$.parseJSON(f):c.tagsItems=f.split(","));if(b.data("source"))if(0!=b.data("source").indexOf("["))c.plugins=
"tags prompt focus autocomplete ajax arrow",c.ajax={global:!1,url:b.data("source"),cacheResults:!1,dataCallback:function(b){return{keyword:b}}};else{c.plugins="tags prompt focus autocomplete arrow";var e=(new Function("return "+b.data("source")))();b.bind("getSuggestions",function(b,c){var d=$(b.target).textext()[0],f=(c?c.query:"")||"";$(this).trigger("setSuggestions",{result:d.itemManager().filter(e,f)})})}else b.attr("list")&&$("#"+b.attr("list")).length?(c.plugins="tags prompt focus autocomplete arrow",
e=[],$("option",$("#"+b.attr("list"))).each(function(){e.push(this.value)}),b.bind("getSuggestions",function(b,c){var d=$(b.target).textext()[0],f=(c?c.query:"")||"";$(this).trigger("setSuggestions",{result:d.itemManager().filter(e,f)})})):c.plugins="tags prompt focus";b.val("").textext(c).bind("isTagAllowed",function(b,c){var d=[];$(".text-tags .text-label",this.container).each(function(){d.push($(this).text())});for(var e=0;e<d.length;e++)if(d[e]==c.tag){c.result=!1;break}});b.blur(function(){(b.hasClass("required")||
b.val())&&$(this).trigger("enterKeyPress").val("")})})};
(function(b){function d(b,d,e){d=d.name;if("undefined"!=typeof FileReaderSync){var g=new BlobBuilder,h=new FileReaderSync;b=event.data;for(var l=0;l<b.length;l++)g.append("--"),g.append(e),g.append("\r\n"),g.append("Content-Disposition: form-data; name="),g.append(d),g.append("; filename="),g.append(b[l].name),g.append("\r\n"),g.append("Content-Type: "),g.append(b[l].type),g.append("\r\n\r\n"),g.append(h.readAsArrayBuffer(b[l])),g.append("\r\n");g.append("--");g.append(e);g.append("--");return g.getBlob()}if(b[0].getAsBinary){g=
"";for(l=0;l<b.length;l++)g+="--"+e+"\r\n",g+="Content-Disposition: form-data; name="+d+"; filename="+b[l].name+"\r\n",g+="Content-Type: "+b[l].type+"\r\n\r\n",g+=b[l].getAsBinary()+"\r\n";return g+("--"+e+"--")}return null}b.ajaxupload=function(c,f){if(!c)return!1;var e={name:"file"};f=f||{};b.extend(e,f);f=e;if("function"==typeof f.beforeSubmit&&!1===f.beforeSubmit())return!1;var g;c.length&&(f.progress?g=b(f.progress):(g=b("#_uploadprogress"),g.length||(g=b('<progress id="_uploadprogress" style="position: fixed;z-index: 10001;left: 45%;top: 0px;width: 100px;" min="0" max="100" value="0">0</progress>').appendTo(document.body))));
var h=new XMLHttpRequest;(e=f.url)||(e=f.target&&"FORM"==f.target.tagName?f.target.action:document.location.href);h.open("POST",e);c.length||Indicator.show();e=f.headers||{};e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(var l in e)h.setRequestHeader(l,e[l]);h.onreadystatechange=function(){if(4==h.readyState){if(200==h.status||304==h.status){c.length||Indicator.hide();var d=h.responseText;if(0==d.indexOf("[")||0==d.indexOf("{"))d=b.parseJSON(d);Ajax.handleResponse(d,f)}else c.length||
Indicator.showError();"undefined"!=typeof f.complete&&f.complete(h)}};g&&g.length&&(h.onload=function(){g.val(100).html(100).remove()},"upload"in h&&(h.upload.onprogress=function(b){b.lengthComputable&&(b=b.loaded/b.total*100|0,g.val(b).html(b).show())}));if("string"==typeof f.data)for(e=f.data.split("&"),f.data={},l=0;l<e.length;l++){var m=e[l].split("=",2);f.data[m[0]]=2==m.length?decodeURIComponent(m[1]):""}if(window.FormData){var n=new FormData;for(l=0;l<c.length;l++)n.append(f.name,c[l]);f.target&&
"FORM"==f.target.tagName?b(":input",f.target).each(function(c,d){!this.disabled&&"file"!=this.type&&("checkbox"!=this.type&&"radio"!=this.type||this.checked)&&n.append(this.name,b(this).val())}):f.data&&b.each(f.data,function(b,c){n.append(b,c)});h.send(n)}else{var k="xxxxxxxxx";h.setRequestHeader("Content-Type","multipart/form-data, boundary="+k);!window.BlobBuilder&&window.WebKitBlobBuilder&&(window.BlobBuilder=window.WebKitBlobBuilder);if("undefined"!=typeof FileReader&&"undefined"!=typeof BlobBuilder){for(l=
0;l<c.length;l++){e=c[l];m=new FileReader;m.sourceFile=e;var r=0,k="xxxxxxxxx",q=new BlobBuilder;f.target&&"FORM"==f.target.tagName?b(":input",f.target).each(function(c,d){if(!this.disabled&&"file"!=this.type&&("checkbox"!=this.type&&"radio"!=this.type||this.checked)){var e=new BlobBuilder;e.append("--");e.append(k);e.append("\r\n");e.append('Content-Disposition: form-data; name="');e.append(this.name);e.append('" ');e.append(b(this).val());e.append("\r\n");q.append(e.getBlob())}}):f.data&&b.each(f.data,
function(b,c){var d=new BlobBuilder;d.append("--");d.append(k);d.append("\r\n");d.append('Content-Disposition: form-data; name="');d.append(b);d.append('" ');d.append(c);d.append("\r\n");q.append(d.getBlob())});m.onload=function(b){var d=b.target.sourceFile,e=new BlobBuilder;e.append("--");e.append(k);e.append("\r\n");e.append("Content-Disposition: form-data; name=");e.append(f.name);e.append("; filename=");e.append(d.name);e.append("\r\n");e.append("Content-Type: ");e.append(d.type);e.append("\r\n\r\n");
e.append(b.target.result);e.append("\r\n");q.append(e.getBlob());r++;r==c.length&&(q.append("--"),q.append(k),q.append("--"),"undefined"!=typeof f.beforeSend&&f.beforeSend(),h.send(q.getBlob()))};m.readAsArrayBuffer(e)}return!0}(q=d(c,f,k))?("undefined"!=typeof f.beforeSend&&f.beforeSend(),h.sendAsBinary?h.sendAsBinary(q):h.send(q)):h.abort()}return!0}})(jQuery);
(function(b){function d(c){c.css("min-height","100px");if(!(c.hasClass("tab-pane")&&c.hasClass("cache")&&c.hasClass("loaded"))){var d=c.data("url"),e={target:c[0],url:d||document.location.href,global:!1,quiet:!0,beforeSend:function(){c.data("quiet")||("undefined"!=typeof b.fn.mask?c.mask(MessageBundle.get("ajax.loading")):c.html('<div style="text-align:center;">'+MessageBundle.get("ajax.loading")+"</div>"))},complete:function(){c.data("quiet")||"undefined"==typeof b.fn.unmask||c.unmask()},success:function(b){c.addClass("loaded");
c.css("min-height","")}};e.replacement=d?c.attr("id")+":"+(c.data("replacement")||"content"):c.attr("id");ajax(e)}}b.fn.ajaxpanel=function(){b(this).each(function(){var c=b(this);c.bind("load",function(){d(c)});if(c.data("timeout"))setTimeout(function(){d(c)},parseInt(c.data("timeout")));else if(c.data("interval")){d(c);var f=setInterval(function(){d(c)},parseInt(c.data("interval")));c.addClass("intervaled").data("_interval",f)}else c.hasClass("manual")||d(c)});return this}})(jQuery);
Observation.ajaxpanel=function(b){$(".ajaxpanel",b).ajaxpanel();$(".ajaxpanel .load",b).click(function(){$(this).closest(".ajaxpanel").trigger("load")})};
(function(b){b(function(){b(document).on("click",".toolbar .pagination .firstPage:not(.disabled) a",function(d){d=b(this).closest("form");b(".inputPage",d).val(1);d.submit();return!1}).on("click",".toolbar .pagination .prevPage:not(.disabled) a",function(d){d=b(this).closest("form");b(".inputPage",d).val(function(b,d){return parseInt(d)-1});d.submit();return!1}).on("click",".toolbar .pagination .nextPage:not(.disabled) a",function(d){d=b(this).closest("form");b(".inputPage",d).val(function(b,d){return parseInt(d)+
1});d.submit();return!1}).on("click",".toolbar .pagination .lastPage:not(.disabled) a",function(d){d=b(this).closest("form");b(".inputPage",d).val(b(".totalPage strong",d).text());d.submit();return!1}).on("change",".toolbar .pagination .inputPage",function(d){b(d.target).closest("form").submit();d.preventDefault()}).on("change",".toolbar .pagination select.pageSize",function(d){d=b(d.target).closest("form");b(".inputPage",d).val(1);d.submit()}).on("keydown",'.toolbar input[name="keyword"]',function(d){var c=
b(d.target).closest("form");if(13==d.keyCode)return b(".inputPage",c).val(1),c.submit(),!1}).on("click",".toolbar .glyphicon-search",function(d){d=b(d.target).closest("form");b(".inputPage",d).val(1);d.submit();return!1})})})(jQuery);
